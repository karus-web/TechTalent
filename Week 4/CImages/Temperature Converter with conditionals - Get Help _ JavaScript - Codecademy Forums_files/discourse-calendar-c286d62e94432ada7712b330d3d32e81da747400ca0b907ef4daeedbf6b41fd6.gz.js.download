define("discourse/plugins/discourse-calendar/connectors/after-chat-channel-username/on-holiday-indicator",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"pVz+9zLy",block:'[[[41,[33,1,["custom_fields","on_holiday"]],[[[1,"  "],[1,[28,[35,2],[":palm_tree:",[28,[37,3],null,[["class"],["on-holiday"]]]],null]],[1,"\\n"]],[]],null]],[],false,["if","user","replace-emoji","hash"]]',moduleName:"discourse/plugins/discourse-calendar/connectors/after-chat-channel-username/on-holiday-indicator.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-calendar/connectors/after-user-name/holiday-flair",["exports","discourse/lib/text"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const s="desert_island"
var i={shouldRender:(e,t)=>t.siteSettings.calendar_enabled&&t.site.users_on_holiday&&t.site.users_on_holiday.includes(e.user.username),setupComponent(e,i){i.setProperties({holidayEmojiName:":".concat(s,":"),holidayEmoji:(0,t.emojiUrlFor)(s)})}}
e.default=i})),define("discourse/plugins/discourse-calendar/connectors/before-topic-list-body/category-calendar",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t={shouldRender:(e,t)=>t.siteSettings.calendar_categories_outlet===t.name}
e.default=t})),define("discourse/plugins/discourse-calendar/connectors/discovery-list-container-top/category-calendar",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t={shouldRender:(e,t)=>t.siteSettings.calendar_categories_outlet===t.name}
e.default=t})),define("discourse/plugins/discourse-calendar/connectors/user-custom-preferences/region",["exports","@ember/object","discourse/plugins/discourse-calendar/lib/regions"],(function(e,t,s){"use strict"
function i(e,t,s,i,n){var o={}
return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n={setupComponent(e,n){var o
n.setProperties((i(o={onChange(e){this.model.set("custom_fields.holidays-region",e)},useCurrentRegion(){this.model.set("custom_fields.holidays-region",s.TIME_ZONE_TO_REGION[moment.tz.guess()]||"us")}},"onChange",[t.action],Object.getOwnPropertyDescriptor(o,"onChange"),o),i(o,"useCurrentRegion",[t.action],Object.getOwnPropertyDescriptor(o,"useCurrentRegion"),o),o))},shouldRender:(e,t)=>t.siteSettings.calendar_enabled}
e.default=n})),define("discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-adapter",["exports","discourse/adapters/rest"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=t.default.extend({basePath:()=>"/discourse-post-event/"})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-event",["exports","discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-adapter","@ember/string"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend({pathFor(e,t,i){let n=this.basePath(e,t,i)+(0,s.underscore)(e.pluralize(this.apiNameFor(t)))
return this.appendQueryParams(n,i)+".json"},apiNameFor:()=>"event"})
e.default=i})),define("discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-invitee",["exports","discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-nested-adapter"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=t.default.extend({apiNameFor:()=>"invitee"})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-nested-adapter",["exports","discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-adapter","@ember/string","discourse/adapters/rest","discourse/lib/ajax"],(function(e,t,s,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var o=t.default.extend({destroyRecord(e,t,s){return(0,n.ajax)(this.pathFor(e,t,{post_id:s.post_id,id:s.id}),{type:"DELETE"})},update(e,t,o,a){const r={},l=(0,s.underscore)(this.apiNameFor(t))
return r[l]=a,(0,n.ajax)(this.pathFor(e,t,{id:o,post_id:a.post_id}),this.getPayload("PUT",r)).then((function(e){return new i.Result(e[l],e)}))},createRecord(e,t,o){const a={},r=(0,s.underscore)(this.apiNameFor(t))
return a[r]=o,(0,n.ajax)(this.pathFor(e,t,o),this.getPayload("POST",a)).then((function(e){return new i.Result(e[r],e)}))},pathFor(e,t,i){const n=i.post_id
delete i.post_id
const o=i.id
delete i.id
let a=this.basePath(e,t,{})+"events/"+n+"/"+(0,s.underscore)(e.pluralize(this.apiNameFor()))
return o&&(a+="/".concat(o)),this.appendQueryParams(a,i)}})
e.default=o})),define("discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-reminder",["exports","discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-nested-adapter"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=t.default.extend({apiNameFor:()=>"reminder"})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/adapters/templates/connectors/category-custom-settings/show-event-category-sorting-settings",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"rBh9s8VP",block:'[[[10,"section"],[12],[1,"\\n  "],[10,"h3"],[12],[1,[28,[35,0],["category.settings_sections.event_sorting"],null]],[13],[1,"\\n\\n"],[41,[33,2,["sort_categories_by_event_start_date_enabled"]],[[[1,"    "],[10,"section"],[14,0,"field show-subcategory-list-field"],[12],[1,"\\n      "],[10,"label"],[12],[1,"\\n        "],[8,[39,3],null,[["@type","@checked"],["checkbox",[30,0,["category","custom_fields","sort_topics_by_event_start_date"]]]],null],[1,"\\n        "],[1,[28,[35,0],["category.sort_topics_by_event_start_date"],null]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[33,2,["disable_resorting_on_categories_enabled"]],[[[1,"    "],[10,"section"],[14,0,"field show-subcategory-list-field"],[12],[1,"\\n      "],[10,"label"],[12],[1,"\\n        "],[8,[39,3],null,[["@type","@checked"],["checkbox",[30,0,["category","custom_fields","disable_topic_resorting"]]]],null],[1,"\\n        "],[1,[28,[35,0],["category.disable_topic_resorting"],null]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[13],[1,"\\n"]],[],false,["i18n","if","siteSettings","input"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/adapters/templates/connectors/category-custom-settings/show-event-category-sorting-settings.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/admin-calendar-route-map",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t={resource:"admin.adminPlugins",path:"/plugins",map(){this.route("calendar")}}
e.default=t})),define("discourse/plugins/discourse-calendar/discourse/components/admin-holidays-list-item",["exports","@ember/component","@ember/object","discourse/lib/ajax","discourse/lib/ajax-error"],(function(e,t,s,i,n){"use strict"
var o
function a(e,t,s,i,n){var o={}
return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=t.default.extend((a(o={tagName:"tr",classNameBindings:["isHolidayDisabled:disabled"],loading:!1,isHolidayDisabled:!1,disableHoliday(e,t){if(!this.loading)return this.set("loading",!0),(0,i.ajax)({url:"/admin/discourse-calendar/holidays/disable",type:"POST",data:{disabled_holiday:{holiday_name:e.name,region_code:t}}}).then((()=>this.set("isHolidayDisabled",!0))).catch(n.popupAjaxError).finally((()=>this.set("loading",!1)))},enableHoliday(e,t){if(!this.loading)return this.set("loading",!0),(0,i.ajax)({url:"/admin/discourse-calendar/holidays/enable",type:"DELETE",data:{disabled_holiday:{holiday_name:e.name,region_code:t}}}).then((()=>this.set("isHolidayDisabled",!1))).catch(n.popupAjaxError).finally((()=>this.set("loading",!1)))}},"disableHoliday",[s.action],Object.getOwnPropertyDescriptor(o,"disableHoliday"),o),a(o,"enableHoliday",[s.action],Object.getOwnPropertyDescriptor(o,"enableHoliday"),o),o))
e.default=r})),define("discourse/plugins/discourse-calendar/discourse/components/bulk-invite-sample-csv-file",["exports","@ember/component","@ember/object"],(function(e,t,s){"use strict"
var i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n,o,a,r,l,d,u=t.default.extend((n=i={downloadSampleCsv(){let e="";[["my_awesome_group","going"],["lucy","interested"],["mark","not_going"],["sam","unknown"]].forEach((t=>{e+=t.join(","),e+="\n"}))
const t=document.createElement("a")
t.href="data:text/csv;charset=utf-8,".concat(encodeURI(e)),t.target="_blank",t.rel="noopener noreferrer",t.download="bulk-invite-sample.csv",t.click()}},o="downloadSampleCsv",a=[s.action],r=Object.getOwnPropertyDescriptor(i,"downloadSampleCsv"),l=i,d={},Object.keys(r).forEach((function(e){d[e]=r[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=a.slice().reverse().reduce((function(e,t){return t(n,o,e)||e}),d),l&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(l):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(n,o,d),d=null),i))
e.default=u})),define("discourse/plugins/discourse-calendar/discourse/components/csv-uploader",["exports","@ember/component","I18n","discourse/mixins/uppy-upload","@ember/service","discourse-common/utils/decorators"],(function(e,t,s,i,n,o){"use strict"
var a,r,l
function d(e,t,s,i,n){var o={}
return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var u=t.default.extend(i.default,(a=(0,o.default)("uploading"),r=(0,o.default)("uploading","processing"),d(l={type:"csv",tagName:"span",dialog:(0,n.inject)(),uploadUrl:null,i18nPrefix:null,autoStartUploads:!1,validateUploadedFilesOptions:()=>({csvOnly:!0}),uploadButtonText(e){return e?s.default.t("uploading"):s.default.t("".concat(this.i18nPrefix,".text"))},uploadButtonDisabled:(e,t)=>!(!e&&!t)||null,uploadDone(){this.dialog.alert(s.default.t("".concat(this.i18nPrefix,".success")))},_uppyReady(){this._uppyInstance.on("file-added",(()=>{this.dialog.confirm({message:s.default.t("".concat(this.i18nPrefix,".confirmation_message")),didConfirm:()=>this._startUpload(),didCancel:()=>this._reset()})}))}},"uploadButtonText",[a],Object.getOwnPropertyDescriptor(l,"uploadButtonText"),l),d(l,"uploadButtonDisabled",[r],Object.getOwnPropertyDescriptor(l,"uploadButtonDisabled"),l),l))
e.default=u})),define("discourse/plugins/discourse-calendar/discourse/components/event-field",["exports","@ember/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=t.default.extend({enabled:!0,class:null})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/components/region-input",["exports","@ember/object","discourse/plugins/discourse-calendar/lib/regions","I18n","select-kit/components/combo-box"],(function(e,t,s,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var o=n.default.extend({pluginApiIdentifiers:["timezone-input"],classNames:["timezone-input","region-input"],allowNoneRegion:!1,selectKitOptions:{filterable:!0,allowAny:!1},content:(0,t.computed)((function(){const e={}
let t=[]
return JSON.parse(this.siteSettings.available_locales).forEach((t=>{e[t.value]=t.name})),!0===this.allowNoneRegion&&t.push({name:i.default.t("discourse_calendar.region.none"),id:null}),t=t.concat(s.HOLIDAY_REGIONS.map((e=>({name:i.default.t("discourse_calendar.region.names.".concat(e)),id:e}))).sort(((e,t)=>e.name.localeCompare(t.name)))),t}))})
e.default=o})),define("discourse/plugins/discourse-calendar/discourse/components/toggle-invitees-modal",["exports","@ember/component","@ember/object/computed","discourse-common/utils/decorators"],(function(e,t,s,i){"use strict"
var n,o,a,r
function l(e,t,s,i,n){var o={}
return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var d=t.default.extend((n=(0,i.default)("viewingType"),o=(0,i.default)("viewingType"),a=(0,i.default)("viewingType"),l(r={tagName:"",viewingType:(0,s.readOnly)("modal.type"),isGoing:e=>"going"===e?" btn-danger":" btn-default",isInterested:e=>"interested"===e?" btn-danger":" btn-default",isNotGoing:e=>"not_going"===e?" btn-danger":" btn-default"},"isGoing",[n],Object.getOwnPropertyDescriptor(r,"isGoing"),r),l(r,"isInterested",[o],Object.getOwnPropertyDescriptor(r,"isInterested"),r),l(r,"isNotGoing",[a],Object.getOwnPropertyDescriptor(r,"isNotGoing"),r),r))
e.default=d})),define("discourse/plugins/discourse-calendar/discourse/components/upcoming-events-calendar",["exports","rsvp","discourse/plugins/discourse-calendar/lib/guess-best-date-format","discourse/plugins/discourse-calendar/helpers/format-event-name","discourse/lib/load-script","@ember/component","@ember/runloop","discourse-common/lib/get-url"],(function(e,t,s,i,n,o,a,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var l=o.default.extend({tagName:"",events:null,init(){this._super(...arguments),this._calendar=null},willDestroyElement(){this._super(...arguments),this._calendar&&this._calendar.destroy(),this._calendar=null},didInsertElement(){this._super(...arguments),this._renderCalendar()},_renderCalendar(){const e=document.getElementById("upcoming-events-calendar")
e&&(e.innerHTML="",this._loadCalendar().then((()=>{this._calendar=new window.FullCalendar.Calendar(e,{}),(this.events||[]).forEach((e=>{const{starts_at:t,ends_at:n,post:o}=e
this._calendar.addEvent({title:(0,i.formatEventName)(e),start:t,end:n||t,allDay:!(0,s.isNotFullDayEvent)(moment(t),moment(n)),url:(0,r.default)("/t/-/".concat(o.topic.id,"/").concat(o.post_number))})})),this._calendar.render()})))},_loadCalendar(){return new t.Promise((e=>{(0,n.default)("/plugins/discourse-calendar/javascripts/fullcalendar-with-moment-timezone.min.js").then((()=>{(0,a.schedule)("afterRender",(()=>{this.isDestroying||this.isDestroyed||e()}))}))}))}})
e.default=l})),define("discourse/plugins/discourse-calendar/discourse/controllers/admin-plugins-calendar",["exports","@ember/controller","@ember/object","discourse/lib/ajax","discourse/lib/ajax-error"],(function(e,t,s,i,n){"use strict"
var o
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var a,r,l,d,u,c,p=t.default.extend((a=o={selectedRegion:null,loading:!1,async getHolidays(e){if(!this.loading)return this.set("selectedRegion",e),this.set("loading",!0),(0,i.ajax)("/admin/discourse-calendar/holiday-regions/".concat(e,"/holidays")).then((e=>{this.model.set("holidays",e.holidays)})).catch(n.popupAjaxError).finally((()=>this.set("loading",!1)))}},r="getHolidays",l=[s.action],d=Object.getOwnPropertyDescriptor(o,"getHolidays"),u=o,c={},Object.keys(d).forEach((function(e){c[e]=d[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(a,r,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(a,r,c),c=null),o))
e.default=p})),define("discourse/plugins/discourse-calendar/discourse/controllers/discourse-post-event-builder",["exports","I18n","discourse/lib/text","discourse/models/group","discourse/mixins/modal-functionality","@ember/controller","@ember/object","@ember/object/computed","discourse/lib/ajax-error","@ember/service","discourse/plugins/discourse-calendar/lib/raw-event-helper"],(function(e,t,s,i,n,o,a,r,l,d,u){"use strict"
var c
function p(e,t,s,i,n){var o={}
return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m={type:"notification",value:15,unit:"minutes",period:"before"}
function v(e,t){return moment.tz(e.format("YYYY-MM-DDTHH:mm"),t)}var f=o.default.extend(n.default,(c={dialog:(0,d.inject)(),reminders:null,isLoadingReminders:!1,init(){this._super(...arguments),this.set("reminderTypes",[{value:"notification",name:t.default.t("discourse_post_event.builder_modal.reminders.types.notification")},{value:"bumpTopic",name:t.default.t("discourse_post_event.builder_modal.reminders.types.bump_topic")}]),this.set("reminderUnits",[{value:"minutes",name:t.default.t("discourse_post_event.builder_modal.reminders.units.minutes")},{value:"hours",name:t.default.t("discourse_post_event.builder_modal.reminders.units.hours")},{value:"days",name:t.default.t("discourse_post_event.builder_modal.reminders.units.days")},{value:"weeks",name:t.default.t("discourse_post_event.builder_modal.reminders.units.weeks")}]),this.set("reminderPeriods",[{value:"before",name:t.default.t("discourse_post_event.builder_modal.reminders.periods.before")},{value:"after",name:t.default.t("discourse_post_event.builder_modal.reminders.periods.after")}]),this.set("availableRecurrences",[{id:"every_day",name:t.default.t("discourse_post_event.builder_modal.recurrence.every_day")},{id:"every_month",name:t.default.t("discourse_post_event.builder_modal.recurrence.every_month")},{id:"every_weekday",name:t.default.t("discourse_post_event.builder_modal.recurrence.every_weekday")},{id:"every_week",name:t.default.t("discourse_post_event.builder_modal.recurrence.every_week")},{id:"every_two_weeks",name:t.default.t("discourse_post_event.builder_modal.recurrence.every_two_weeks")}])},modalTitle:(0,a.computed)("model.eventModel.isNew",{get(){return this.model.eventModel.isNew?"create_event_title":"update_event_title"}}),allowedCustomFields:(0,a.computed)("siteSettings.discourse_post_event_allowed_custom_fields",(function(){return this.siteSettings.discourse_post_event_allowed_custom_fields.split("|").filter(Boolean)})),groupFinder:e=>i.default.findAll({term:e,ignore_automatic:!0}),allowsInvitees:(0,r.equal)("model.eventModel.status","private"),addReminderDisabled:(0,r.gte)("model.eventModel.reminders.length",5),onChangeCustomField(e,t){const s=t.target.value;(0,a.set)(this.model.eventModel.custom_fields,e,s)},onChangeStatus(e){this.model.eventModel.set("raw_invitees",[]),"private"===e&&this.setRawInvitees(null,this.model.eventModel.raw_invitees.filter((e=>"trust_level_0"!==e))),this.set("model.eventModel.status",e)},setRawInvitees(e,t){this.set("model.eventModel.raw_invitees",t)},removeReminder(e){this.model.eventModel.reminders.removeObject(e)},addReminder(){this.model.eventModel.reminders||this.model.eventModel.set("reminders",[]),this.model.eventModel.reminders.pushObject(Object.assign({},m))},startsAt:(0,a.computed)("model.eventModel.starts_at",{get(){return moment(this.model.eventModel.starts_at).tz(this.model.eventModel.timezone||"UTC")}}),endsAt:(0,a.computed)("model.eventModel.ends_at",{get(){return this.model.eventModel.ends_at&&moment(this.model.eventModel.ends_at).tz(this.model.eventModel.timezone||"UTC")}}),standaloneEvent:(0,r.equal)("model.eventModel.status","standalone"),publicEvent:(0,r.equal)("model.eventModel.status","public"),privateEvent:(0,r.equal)("model.eventModel.status","private"),onChangeDates(e){this.model.eventModel.setProperties({starts_at:e.from,ends_at:e.to})},onChangeTimezone(e){this.model.eventModel.setProperties({timezone:e,starts_at:v(this.startsAt,e),ends_at:this.endsAt&&v(this.endsAt,e)})},destroyPostEvent(){this.dialog.yesNoConfirm({message:t.default.t("discourse_post_event.builder_modal.confirm_delete"),didConfirm:()=>this.store.find("post",this.model.eventModel.id).then((e=>{const i=e.raw,n=this._removeRawEvent(i),o={raw:n,edit_reason:t.default.t("discourse_post_event.destroy_event")}
return s.default.cookAsync(n).then((t=>(o.cooked=t.string,e.save(o).catch((e=>this.flash((0,l.extractError)(e),"error"))).then((e=>e&&this.send("closeModal"))))))})).catch((e=>this.flash((0,l.extractError)(e),"error")))})},createEvent(){if(!this.startsAt)return void this.send("closeModal")
const e=(0,u.buildParams)(this.startsAt,this.endsAt,this.model.eventModel,this.siteSettings),t=[]
Object.keys(e).forEach((s=>{let i=e[s]
t.push("".concat(s,'="').concat(i,'"'))})),this.toolbarEvent.addText("[event ".concat(t.join(" "),"]\n[/event]")),this.send("closeModal")},updateEvent(){return this.store.find("post",this.model.eventModel.id).then((e=>{const i=e.raw,n=(0,u.buildParams)(this.startsAt,this.endsAt,this.model.eventModel,this.siteSettings),o=(0,u.replaceRaw)(n,i)
if(o){const i={raw:o,edit_reason:t.default.t("discourse_post_event.edit_reason")}
return s.default.cookAsync(o).then((t=>(i.cooked=t.string,e.save(i).catch((e=>this.flash((0,l.extractError)(e),"error"))).then((e=>e&&this.send("closeModal"))))))}}))},_removeRawEvent(e){const t=new RegExp("\\[event\\s(.*?)\\]\\n\\[\\/event\\]","m")
return e.replace(t,"")}},p(c,"onChangeCustomField",[a.action],Object.getOwnPropertyDescriptor(c,"onChangeCustomField"),c),p(c,"onChangeStatus",[a.action],Object.getOwnPropertyDescriptor(c,"onChangeStatus"),c),p(c,"setRawInvitees",[a.action],Object.getOwnPropertyDescriptor(c,"setRawInvitees"),c),p(c,"removeReminder",[a.action],Object.getOwnPropertyDescriptor(c,"removeReminder"),c),p(c,"addReminder",[a.action],Object.getOwnPropertyDescriptor(c,"addReminder"),c),p(c,"onChangeDates",[a.action],Object.getOwnPropertyDescriptor(c,"onChangeDates"),c),p(c,"onChangeTimezone",[a.action],Object.getOwnPropertyDescriptor(c,"onChangeTimezone"),c),p(c,"destroyPostEvent",[a.action],Object.getOwnPropertyDescriptor(c,"destroyPostEvent"),c),p(c,"createEvent",[a.action],Object.getOwnPropertyDescriptor(c,"createEvent"),c),p(c,"updateEvent",[a.action],Object.getOwnPropertyDescriptor(c,"updateEvent"),c),c))
e.default=f})),define("discourse/plugins/discourse-calendar/discourse/controllers/discourse-post-event-bulk-invite",["exports","@ember/utils","discourse/lib/ajax","discourse/lib/ajax-error","@ember/object","discourse-common/utils/decorators","discourse/mixins/modal-functionality","@ember/controller","discourse/models/group","I18n","@ember/service"],(function(e,t,s,i,n,o,a,r,l,d,u){"use strict"
var c,p
function m(e,t,s,i,n){var o={}
return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var v=r.default.extend(a.default,(c=(0,o.observes)("bulkInvites.@each.identifier"),p={dialog:(0,u.inject)(),bulkInvites:null,bulkInviteStatuses:null,bulkInviteDisabled:!0,init(){this._super(...arguments),this.set("bulkInviteStatuses",[{label:d.default.t("discourse_post_event.models.invitee.status.unknown"),name:"unknown"},{label:d.default.t("discourse_post_event.models.invitee.status.going"),name:"going"},{label:d.default.t("discourse_post_event.models.invitee.status.not_going"),name:"not_going"},{label:d.default.t("discourse_post_event.models.invitee.status.interested"),name:"interested"}])},onShow(){this.set("bulkInvites",[n.default.create({identifier:null,attendance:"unknown"})])},groupFinder:e=>l.default.findAll({term:e,ignore_automatic:!0}),setBulkInviteDisabled(){this.set("bulkInviteDisabled",0===this.bulkInvites.filter((e=>(0,t.isPresent)(e.identifier))).length)},sendBulkInvites(){return(0,s.ajax)("/discourse-post-event/events/".concat(this.model.eventModel.id,"/bulk-invite.json"),{type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({invitees:this.bulkInvites.filter((e=>(0,t.isPresent)(e.identifier)))})}).then((e=>{e.success&&this.send("closeModal")})).catch((e=>this.flash((0,i.extractError)(e),"error")))},removeBulkInvite(e){this.bulkInvites.removeObject(e),this.bulkInvites.length||this.set("bulkInvites",[n.default.create({identifier:null,attendance:"unknown"})])},addBulkInvite(){const e=this.bulkInvites.get("lastObject.attendance")||"unknown"
this.bulkInvites.pushObject(n.default.create({identifier:null,attendance:e}))},uploadDone(){this.send("closeModal"),this.dialog.alert(d.default.t("discourse_post_event.bulk_invite_modal.success"))},updateInviteIdentifier(e,t){e.set("identifier",t.firstObject)}},m(p,"groupFinder",[n.action],Object.getOwnPropertyDescriptor(p,"groupFinder"),p),m(p,"setBulkInviteDisabled",[c],Object.getOwnPropertyDescriptor(p,"setBulkInviteDisabled"),p),m(p,"sendBulkInvites",[n.action],Object.getOwnPropertyDescriptor(p,"sendBulkInvites"),p),m(p,"removeBulkInvite",[n.action],Object.getOwnPropertyDescriptor(p,"removeBulkInvite"),p),m(p,"addBulkInvite",[n.action],Object.getOwnPropertyDescriptor(p,"addBulkInvite"),p),m(p,"uploadDone",[n.action],Object.getOwnPropertyDescriptor(p,"uploadDone"),p),m(p,"updateInviteIdentifier",[n.action],Object.getOwnPropertyDescriptor(p,"updateInviteIdentifier"),p),p))
e.default=v})),define("discourse/plugins/discourse-calendar/discourse/controllers/discourse-post-event-invite-user-or-group",["exports","discourse/mixins/modal-functionality","@ember/controller","@ember/object","discourse/lib/ajax-error","discourse/lib/ajax"],(function(e,t,s,i,n,o){"use strict"
var a
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r,l,d,u,c,p,m=s.default.extend(t.default,(r=a={invitedNames:null,onClose(){this.set("invitedNames",null)},invite(){return(0,o.ajax)("/discourse-post-event/events/".concat(this.model.id,"/invite.json"),{data:{invites:this.invitedNames||[]},type:"POST"}).then((()=>this.send("closeModal"))).catch((e=>this.flash((0,n.extractError)(e),"error")))}},l="invite",d=[i.action],u=Object.getOwnPropertyDescriptor(a,"invite"),c=a,p={},Object.keys(u).forEach((function(e){p[e]=u[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=d.slice().reverse().reduce((function(e,t){return t(r,l,e)||e}),p),c&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(c):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(r,l,p),p=null),a))
e.default=m})),define("discourse/plugins/discourse-calendar/discourse/controllers/discourse-post-event-invitees",["exports","discourse/mixins/modal-functionality","@ember/controller","@ember/object","discourse-common/lib/debounce"],(function(e,t,s,i,n){"use strict"
var o
function a(e,t,s,i,n){var o={}
return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=s.default.extend(t.default,(a(o={invitees:null,filter:null,isLoading:!1,type:"going",onShow(){this._fetchInvitees()},toggleViewingFilter(e){this.onFilterChanged(e)},toggleType(e){this.set("type",e),this._fetchInvitees(this.filter)},onFilterChanged(e){(0,n.default)(this,this._fetchInvitees,e,this.type,250)},removeInvitee(e){e.destroyRecord().then((()=>this._fetchInvitees()))},_fetchInvitees(e){this.set("isLoading",!0),this.store.findAll("discourse-post-event-invitee",{filter:e,post_id:this.model.id,type:this.type}).then((e=>this.set("invitees",e))).finally((()=>this.set("isLoading",!1)))}},"toggleViewingFilter",[i.action],Object.getOwnPropertyDescriptor(o,"toggleViewingFilter"),o),a(o,"toggleType",[i.action],Object.getOwnPropertyDescriptor(o,"toggleType"),o),a(o,"onFilterChanged",[i.action],Object.getOwnPropertyDescriptor(o,"onFilterChanged"),o),a(o,"removeInvitee",[i.action],Object.getOwnPropertyDescriptor(o,"removeInvitee"),o),o))
e.default=r})),define("discourse/plugins/discourse-calendar/discourse/controllers/discourse-post-event-upcoming-events-index",["exports","@ember/controller"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=t.default.extend({})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/discourse-event-upcoming-events-route-map",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){this.route("discourse-post-event-upcoming-events",{path:"/upcoming-events"},(function(){this.route("index",{path:"/"})}))}})),define("discourse/plugins/discourse-calendar/discourse/models/discourse-post-event-event",["exports","discourse/models/rest","discourse/lib/ajax"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i={id:null,name:null,starts_at:null,ends_at:null,raw_invitees:null,url:null,timezone:null,status:{transform:e=>n[e]}},n={standalone:0,public:1,private:2},o=t.default.extend({init(){this._super(...arguments),this.__type="discourse-post-event-event"},update(e){return(0,s.ajax)("/discourse-post-event/events/".concat(this.id,".json"),{type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify({event:e})})},updateProperties(){const e=Object.keys(i)
return this.getProperties(e)},createProperties(){const e=Object.keys(i)
return this.getProperties(e)},_transformProps(e){Object.keys(i).forEach((t=>{const s=i[t]
null!=s&&s.transform&&(e[t]=s.transform(e[t]))}))},beforeUpdate(e){this._transformProps(e)},beforeCreate(e){this._transformProps(e)}})
var a=o
e.default=a})),define("discourse/plugins/discourse-calendar/discourse/models/discourse-post-event-invitee",["exports","discourse/models/rest"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=t.default.extend({init(){this._super(...arguments),this.__type="discourse-post-event-invitee"}})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/models/discourse-post-event-reminder",["exports","discourse/models/rest"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=t.default.extend({init(){this._super(...arguments),this.__type="discourse-post-event-reminder"}})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/routes/discourse-post-event-upcoming-events-index",["exports","discourse/lib/url","@ember/routing/route","@ember/object/evented"],(function(e,t,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=s.default.extend({enforcePostEventEnabled:(0,i.on)("activate",(function(){this.siteSettings.discourse_post_event_enabled||t.default.redirectTo("/404")})),model(e){return this.store.findAll("discourse-post-event-event",e)}})
e.default=n}))
define("discourse/plugins/discourse-calendar/discourse/templates/admin-plugins-calendar",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"F1Nuy5F9",block:'[[[10,"h3"],[12],[1,"\\n  "],[1,[28,[35,0],["discourse_calendar.holidays.header_title"],null]],[1,"\\n"],[13],[1,"\\n\\n"],[1,[28,[35,1],null,[["value","onChange"],[[30,0,["selectedRegion"]],[28,[37,2],[[30,0],"getHolidays"],null]]]]],[1,"\\n\\n"],[10,2],[14,0,"desc"],[12],[1,"\\n  "],[1,[28,[35,0],["discourse_calendar.holidays.pick_region_description"],null]],[1,"\\n  "],[10,"br"],[12],[13],[10,"br"],[12],[13],[1,"\\n  "],[1,[28,[35,0],["discourse_calendar.holidays.disabled_holidays_description"],null]],[1,"\\n"],[13],[1,"\\n\\n"],[1,[28,[35,3],null,[["condition"],[[33,4]]]]],[1,"\\n\\n"],[41,[33,6,["holidays"]],[[[1,"  "],[1,[28,[35,7],null,[["holidays","region_code"],[[33,6,["holidays"]],[30,0,["selectedRegion"]]]]]],[1,"\\n"]],[]],null]],[],false,["i18n","region-input","action","conditional-loading-spinner","loading","if","model","admin-holidays-list"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/admin-plugins-calendar.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/templates/components/admin-holidays-list-item",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"1zQ4x3Lw",block:'[[[10,"td"],[12],[1,[33,0,["date"]]],[13],[1,"\\n"],[10,"td"],[12],[1,[33,0,["name"]]],[13],[1,"\\n"],[10,"td"],[12],[1,"\\n"],[41,[33,2],[[[1,"    "],[1,[28,[35,3],null,[["action","label"],[[28,[37,4],[[30,0],"enableHoliday",[33,0],[33,5]],null],"discourse_calendar.enable_holiday"]]]],[1,"\\n"]],[]],[[[1,"    "],[1,[28,[35,3],null,[["action","label"],[[28,[37,4],[[30,0],"disableHoliday",[33,0],[33,5]],null],"discourse_calendar.disable_holiday"]]]],[1,"\\n"]],[]]],[13],[1,"\\n"]],[],false,["holiday","if","isHolidayDisabled","d-button","action","region_code"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/components/admin-holidays-list-item.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/templates/components/admin-holidays-list",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"TnS8hSwN",block:'[[[10,"table"],[14,0,"holidays-list"],[12],[1,"\\n  "],[10,"thead"],[12],[1,"\\n    "],[10,"tr"],[12],[1,"\\n      "],[10,"td"],[12],[1,[28,[35,0],["discourse_calendar.date"],null]],[13],[1,"\\n      "],[10,"td"],[14,"colspan","2"],[12],[1,[28,[35,0],["discourse_calendar.holiday"],null]],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n\\n  "],[10,"tbody"],[12],[1,"\\n"],[42,[28,[37,2],[[28,[37,2],[[30,1]],null]],null],null,[[[1,"      "],[1,[28,[35,3],null,[["holiday","isHolidayDisabled","region_code"],[[30,2],[30,2,["disabled"]],[33,4]]]]],[1,"\\n"]],[2]],null],[1,"  "],[13],[1,"\\n"],[13],[1,"\\n"]],["@holidays","holiday"],false,["i18n","each","-track-array","admin-holidays-list-item","region_code"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/components/admin-holidays-list.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/templates/components/bulk-invite-sample-csv-file",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"XvTXjY+J",block:'[[[1,[28,[35,0],null,[["label","action"],["discourse_post_event.bulk_invite_modal.download_sample_csv",[28,[37,1],[[30,0],"downloadSampleCsv"],null]]]]],[1,"\\n"]],[],false,["d-button","action"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/components/bulk-invite-sample-csv-file.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/templates/components/csv-uploader",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"1823j896",block:'[[[10,"label"],[14,0,"btn"],[15,"disabled",[36,0]],[12],[1,"\\n  "],[1,[28,[35,1],["upload"],null]],[1,"Â "],[1,[34,2]],[1,"\\n  "],[10,"input"],[14,0,"hidden-upload-field"],[15,"disabled",[36,3]],[14,"accept",".csv"],[14,4,"file"],[12],[13],[1,"\\n"],[13],[1,"\\n"],[41,[28,[37,5],[[33,3],[33,6]],null],[[[1,"  "],[10,1],[12],[1,[28,[35,7],["upload_selector.uploading"],null]],[1," "],[1,[34,8]],[1,"%"],[13],[1,"\\n"]],[]],null]],[],false,["uploadButtonDisabled","d-icon","uploadButtonText","uploading","if","or","processing","i18n","uploadProgress"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/components/csv-uploader.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/templates/components/event-field",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"wqfMNj5Z",block:'[[[41,[33,1],[[[1,"  "],[10,0],[15,0,[29,["event-field ",[36,2]]]],[12],[1,"\\n"],[41,[33,3],[[[1,"      "],[10,0],[14,0,"event-field-label"],[12],[1,"\\n        "],[10,1],[14,0,"label"],[12],[1,[28,[35,4],[[33,3]],null]],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"    "],[10,0],[14,0,"event-field-control"],[12],[1,"\\n      "],[18,1,null],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]],null]],["&default"],false,["if","enabled","class","label","i18n","yield"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/components/event-field.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/templates/components/toggle-invitees-modal",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"Wq1gXBPQ",block:'[[[10,0],[14,0,"invitees-type-filter"],[12],[1,"\\n  "],[1,[28,[35,0],null,[["label","class","action","actionParam"],["discourse_post_event.models.invitee.status.going",[28,[37,1],["btn toggle-going",[33,2]],null],[33,3],"going"]]]],[1,"\\n\\n  "],[1,[28,[35,0],null,[["label","class","action","actionParam"],["discourse_post_event.models.invitee.status.interested",[28,[37,1],["btn toggle-interested",[33,4]],null],[33,3],"interested"]]]],[1,"\\n\\n  "],[1,[28,[35,0],null,[["label","class","action","actionParam"],["discourse_post_event.models.invitee.status.not_going",[28,[37,1],["btn toggle-not-going",[33,5]],null],[33,3],"not_going"]]]],[1,"\\n"],[13]],[],false,["d-button","concat","isGoing","toggle","isInterested","isNotGoing"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/components/toggle-invitees-modal.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/templates/components/upcoming-events-calendar",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"AebW7fFM",block:'[[[10,0],[14,1,"upcoming-events-calendar"],[12],[13],[1,"\\n"]],[],false,[]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/components/upcoming-events-calendar.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/templates/discourse-post-event-upcoming-events-index",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"DjNq0U1p",block:'[[[10,0],[14,0,"discourse-post-event-upcoming-events"],[12],[1,"\\n  "],[1,[28,[35,0],null,[["events"],[[33,1]]]]],[1,"\\n"],[13],[1,"\\n"]],[],false,["upcoming-events-calendar","model"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/discourse-post-event-upcoming-events-index.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/templates/discourse-post-event-upcoming-events",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"trcmPrIH",block:'[[[46,[28,[37,1],null,null],null,null,null],[1,"\\n"]],[],false,["component","-outlet"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/discourse-post-event-upcoming-events.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"BGRpguC7",block:'[[[6,[39,0],null,[["title","class"],[[28,[37,1],["discourse_post_event.builder_modal.",[33,2]],null],"discourse-post-event-builder"]],[["default"],[[[[6,[39,3],null,[["isLoading"],[[33,4,["eventModel","isSaving"]]]],[["default"],[[[[1,"    "],[10,"form"],[12],[1,"\\n      "],[1,[28,[35,5],null,[["from","to","toTimeFirst","clearable","timezone","onChange"],[[33,6],[33,7],true,true,[33,4,["eventModel","timezone"]],[28,[37,8],[[30,0],"onChangeDates"],null]]]]],[1,"\\n\\n"],[6,[39,9],null,[["class","label"],["name","discourse_post_event.builder_modal.name.label"]],[["default"],[[[[1,"        "],[1,[28,[35,10],null,[["value","placeholderKey","input"],[[28,[37,11],[[33,4,["eventModel","name"]]],null],"discourse_post_event.builder_modal.name.placeholder",[28,[37,8],[[30,0],[28,[37,12],[[33,4,["eventModel","name"]]],null]],[["value"],["target.value"]]]]]]],[1,"\\n"]],[]]]]],[1,"\\n"],[6,[39,9],null,[["class","label"],["url","discourse_post_event.builder_modal.url.label"]],[["default"],[[[[1,"        "],[1,[28,[35,10],null,[["value","placeholderKey","input"],[[28,[37,11],[[33,4,["eventModel","url"]]],null],"discourse_post_event.builder_modal.url.placeholder",[28,[37,8],[[30,0],[28,[37,12],[[33,4,["eventModel","url"]]],null]],[["value"],["target.value"]]]]]]],[1,"\\n"]],[]]]]],[1,"\\n"],[6,[39,9],null,[["class","label"],["timezone","discourse_post_event.builder_modal.timezone.label"]],[["default"],[[[[1,"        "],[1,[28,[35,13],null,[["value","onChange","class","none"],[[33,4,["eventModel","timezone"]],[28,[37,8],[[30,0],"onChangeTimezone"],null],"input-xxlarge","discourse_post_event.builder_modal.timezone.remove_timezone"]]]],[1,"\\n"]],[]]]]],[1,"\\n"],[6,[39,9],null,[["label"],["discourse_post_event.builder_modal.status.label"]],[["default"],[[[[1,"        "],[10,"label"],[14,0,"radio-label"],[12],[1,"\\n          "],[1,[28,[35,14],null,[["name","value","selection","onChange"],["status","public",[33,4,["eventModel","status"]],[28,[37,8],[[30,0],"onChangeStatus"],null]]]]],[1,"\\n          "],[10,1],[14,0,"message"],[12],[1,"\\n            "],[10,1],[14,0,"title"],[12],[1,[28,[35,15],["discourse_post_event.models.event.status.public.title"],null]],[13],[1,"\\n            "],[10,1],[14,0,"description"],[12],[1,[28,[35,15],["discourse_post_event.models.event.status.public.description"],null]],[13],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,"label"],[14,0,"radio-label"],[12],[1,"\\n          "],[1,[28,[35,14],null,[["name","value","selection","onChange"],["status","private",[33,4,["eventModel","status"]],[28,[37,8],[[30,0],"onChangeStatus"],null]]]]],[1,"\\n          "],[10,1],[14,0,"message"],[12],[1,"\\n            "],[10,1],[14,0,"title"],[12],[1,[28,[35,15],["discourse_post_event.models.event.status.private.title"],null]],[13],[1,"\\n            "],[10,1],[14,0,"description"],[12],[1,[28,[35,15],["discourse_post_event.models.event.status.private.description"],null]],[13],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,"label"],[14,0,"radio-label"],[12],[1,"\\n          "],[1,[28,[35,14],null,[["name","value","selection","onChange"],["status","standalone",[33,4,["eventModel","status"]],[28,[37,8],[[30,0],"onChangeStatus"],null]]]]],[1,"\\n          "],[10,1],[14,0,"message"],[12],[1,"\\n            "],[10,1],[14,0,"title"],[12],[1,[28,[35,15],["discourse_post_event.models.event.status.standalone.title"],null]],[13],[1,"\\n            "],[10,1],[14,0,"description"],[12],[1,[28,[35,15],["discourse_post_event.models.event.status.standalone.description"],null]],[13],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]]]]],[1,"\\n"],[6,[39,9],null,[["enabled","label"],[[33,16],"discourse_post_event.builder_modal.invitees.label"]],[["default"],[[[[1,"        "],[1,[28,[35,17],null,[["fullWidthWrap","groupFinder","groupNames","onChangeCallback","placeholderKey"],[true,[33,18],[33,4,["eventModel","raw_invitees"]],[28,[37,8],[[30,0],"setRawInvitees"],null],"topic.invite_private.group_name"]]]],[1,"\\n"]],[]]]]],[1,"\\n"],[6,[39,9],null,[["class","label"],["reminders","discourse_post_event.builder_modal.reminders.label"]],[["default"],[[[[1,"        "],[10,0],[14,0,"reminders-list"],[12],[1,"\\n"],[42,[28,[37,20],[[28,[37,20],[[33,4,["eventModel","reminders"]]],null]],null],null,[[[1,"            "],[10,0],[14,0,"reminder-item"],[12],[1,"\\n              "],[1,[28,[35,21],null,[["class","value","nameProperty","valueProperty","content","onChange"],["reminder-type",[30,1,["type"]],"name","value",[33,22],[28,[37,8],[[30,0],[28,[37,12],[[30,1,["type"]]],null]],null]]]]],[1,"\\n\\n              "],[1,[28,[35,10],null,[["class","min","value","placeholderKey","input"],["reminder-value",0,[28,[37,11],[[30,1,["value"]]],null],"discourse_post_event.builder_modal.name.placeholder",[28,[37,8],[[30,0],[28,[37,12],[[30,1,["value"]]],null]],[["value"],["target.value"]]]]]]],[1,"\\n\\n              "],[1,[28,[35,21],null,[["class","value","nameProperty","valueProperty","content","onChange"],["reminder-unit",[30,1,["unit"]],"name","value",[33,23],[28,[37,8],[[30,0],[28,[37,12],[[30,1,["unit"]]],null]],null]]]]],[1,"\\n\\n              "],[1,[28,[35,21],null,[["class","value","nameProperty","valueProperty","content","onChange"],["reminder-period",[30,1,["period"]],"name","value",[33,24],[28,[37,8],[[30,0],[28,[37,12],[[30,1,["period"]]],null]],null]]]]],[1,"\\n\\n              "],[1,[28,[35,25],null,[["class","icon","action","disabled"],["remove-reminder","times",[28,[37,8],[[30,0],"removeReminder",[30,1]],null],[33,26]]]]],[1,"\\n            "],[13],[1,"\\n"]],[1]],null],[1,"        "],[13],[1,"\\n\\n        "],[1,[28,[35,25],null,[["class","disabled","icon","label","action"],["add-reminder",[33,27],"plus","discourse_post_event.builder_modal.add_reminder",[28,[37,8],[[30,0],"addReminder"],null]]]]],[1,"\\n"]],[]]]]],[1,"\\n"],[6,[39,9],null,[["class","label"],["recurrence","discourse_post_event.builder_modal.recurrence.label"]],[["default"],[[[[1,"        "],[1,[28,[35,21],null,[["class","value","content","onChange","options"],["available-recurrences",[28,[37,11],[[33,4,["eventModel","recurrence"]]],null],[33,28],[28,[37,8],[[30,0],[28,[37,12],[[33,4,["eventModel","recurrence"]]],null]],null],[28,[37,29],null,[["none"],["discourse_post_event.builder_modal.recurrence.none"]]]]]]],[1,"\\n"]],[]]]]],[1,"\\n"],[41,[33,31,["length"]],[[[6,[39,9],null,[["label"],["discourse_post_event.builder_modal.custom_fields.label"]],[["default"],[[[[1,"          "],[10,2],[14,0,"event-field-description"],[12],[1,[28,[35,15],["discourse_post_event.builder_modal.custom_fields.description"],null]],[13],[1,"\\n"],[42,[28,[37,20],[[28,[37,20],[[33,31]],null]],null],null,[[[1,"            "],[10,1],[14,0,"label custom-field-label"],[12],[1,[30,2]],[13],[1,"\\n            "],[1,[28,[35,10],null,[["class","value","placeholderKey","input"],["custom-field-input",[28,[37,11],[[28,[37,32],[[33,4,["eventModel","custom_fields"]],[30,2]],null]],null],"discourse_post_event.builder_modal.custom_fields.placeholder",[28,[37,8],[[30,0],"onChangeCustomField",[30,2]],null]]]]],[1,"\\n"]],[2]],null]],[]]]]]],[]],null],[1,"    "],[13],[1,"\\n"]],[]]]]]],[]]]]],[1,"\\n"],[10,0],[14,0,"modal-footer"],[12],[1,"\\n"],[41,[33,4,["eventModel","isNew"]],[[[1,"    "],[1,[28,[35,25],null,[["type","class","label","icon","action"],["button","btn-primary","discourse_post_event.builder_modal.create","calendar-day",[28,[37,8],[[30,0],"createEvent"],null]]]]],[1,"\\n"]],[]],[[[1,"    "],[1,[28,[35,25],null,[["type","class","label","icon","action"],["button","btn-primary","discourse_post_event.builder_modal.update","calendar-day",[28,[37,8],[[30,0],"updateEvent"],null]]]]],[1,"\\n\\n    "],[1,[28,[35,25],null,[["icon","class","action"],["trash-alt","btn-danger","destroyPostEvent"]]]],[1,"\\n"]],[]]],[13],[1,"\\n"]],["reminder","allowedCustomField"],false,["d-modal-body","concat","modalTitle","conditional-loading-section","model","date-time-input-range","startsAt","endsAt","action","event-field","input","readonly","mut","timezone-input","radio-button","i18n","allowsInvitees","group-selector","groupFinder","each","-track-array","combo-box","reminderTypes","reminderUnits","reminderPeriods","d-button","isLoadingReminders","addReminderDisabled","availableRecurrences","hash","if","allowedCustomFields","get"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-bulk-invite",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"sNAVopPO",block:'[[[6,[39,0],null,[["title","class"],[[28,[37,1],["discourse_post_event.bulk_invite_modal.title"],null],"discourse-post-event-bulk-invite"]],[["default"],[[[[1,"  "],[10,0],[14,0,"bulk-invites"],[12],[1,"\\n    "],[10,2],[14,0,"bulk-event-help"],[12],[1,[28,[35,2],[[28,[37,1],["discourse_post_event.bulk_invite_modal.description_",[33,3,["eventModel","status"]]],null]],null]],[13],[1,"\\n    "],[10,"h3"],[12],[1,[28,[35,2],["discourse_post_event.bulk_invite_modal.inline_title"],null]],[13],[1,"\\n\\n    "],[10,0],[14,0,"bulk-invite-rows"],[12],[1,"\\n"],[42,[28,[37,5],[[28,[37,5],[[33,6]],null]],null],null,[[[1,"        "],[10,0],[14,0,"bulk-invite-row"],[12],[1,"\\n"],[41,[33,3,["eventModel","is_private"]],[[[1,"            "],[1,[28,[35,8],null,[["class","single","groupFinder","groupNames","placeholderKey"],["bulk-invite-identifier",true,[33,9],[30,1,["identifier"]],"discourse_post_event.bulk_invite_modal.group_selector_placeholder"]]]],[1,"\\n"]],[]],null],[41,[33,3,["eventModel","is_public"]],[[[1,"            "],[1,[28,[35,10],null,[["class","value","onChange","options"],["bulk-invite-identifier",[30,1,["identifier"]],[28,[37,11],[[30,0],"updateInviteIdentifier",[30,1]],null],[28,[37,12],null,[["maximum","filterPlaceholder"],[1,"discourse_post_event.bulk_invite_modal.user_selector_placeholder"]]]]]]],[1,"\\n"]],[]],null],[1,"\\n          "],[1,[28,[35,13],null,[["class","value","content","nameProperty","valueProperty","onChange"],["bulk-invite-attendance",[30,1,["attendance"]],[33,14],"name","name",[28,[37,11],[[30,0],[28,[37,15],[[30,1,["attendance"]]],null]],null]]]]],[1,"\\n\\n          "],[1,[28,[35,16],null,[["icon","action","class"],["trash-alt",[28,[37,11],[[30,0],"removeBulkInvite",[30,1]],null],"remove-bulk-invite"]]]],[1,"\\n        "],[13],[1,"\\n"]],[1]],null],[1,"    "],[13],[1,"\\n\\n    "],[10,0],[14,0,"bulk-invite-actions"],[12],[1,"\\n      "],[1,[28,[35,16],null,[["class","label","action","disabled"],["send-bulk-invites btn-primary","discourse_post_event.bulk_invite_modal.send_bulk_invites",[28,[37,11],[[30,0],"sendBulkInvites"],null],[33,17]]]]],[1,"\\n      "],[1,[28,[35,16],null,[["class","icon","action"],["add-bulk-invite","plus",[28,[37,11],[[30,0],"addBulkInvite"],null]]]]],[1,"\\n    "],[13],[1,"\\n\\n  "],[13],[1,"\\n\\n  "],[10,0],[14,0,"csv-bulk-invites"],[12],[1,"\\n    "],[10,"h3"],[12],[1,[28,[35,2],["discourse_post_event.bulk_invite_modal.csv_title"],null]],[13],[1,"\\n\\n    "],[10,0],[14,0,"bulk-invite-actions"],[12],[1,"\\n      "],[1,[34,18]],[1,"\\n\\n      "],[1,[28,[35,19],null,[["id","uploadUrl","i18nPrefix","uploading","uploadDone"],["discourse-post-event-csv-uploader",[28,[37,1],["/discourse-post-event/events/",[33,3,["eventModel","id"]],"/csv-bulk-invite"],null],"discourse_post_event.bulk_invite_modal",[33,20],[28,[37,11],[[30,0],"uploadDone"],null]]]]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]]]]]],["bulkInvite"],false,["d-modal-body","concat","i18n","model","each","-track-array","bulkInvites","if","group-selector","groupFinder","email-group-user-chooser","action","hash","combo-box","bulkInviteStatuses","mut","d-button","bulkInviteDisabled","bulk-invite-sample-csv-file","csv-uploader","uploading"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-bulk-invite.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-invite-user-or-group",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"xWia30X9",block:'[[[6,[39,0],null,[["title","class"],["discourse_post_event.invite_user_or_group.title","invite-user-or-group-modal"]],[["default"],[[[[1,"  "],[10,"form"],[12],[1,"\\n"],[6,[39,1],null,null,[["default"],[[[[1,"      "],[1,[28,[35,2],null,[["tabindex","value","onChange","options"],["1",[33,3],[28,[37,4],[[30,0],[28,[37,5],[[33,3]],null]],null],[28,[37,6],null,[["fullWidthWrap","includeMessageableGroups","filterPlaceholder","excludeCurrentUser"],[true,true,"composer.users_placeholder",true]]]]]]],[1,"\\n"]],[]]]]],[1,"  "],[13],[1,"\\n"]],[]]]]],[1,"\\n"],[10,0],[14,0,"modal-footer"],[12],[1,"\\n  "],[1,[28,[35,7],null,[["type","class","label","action"],["button","btn-primary","discourse_post_event.invite_user_or_group.invite",[28,[37,4],[[30,0],"invite"],null]]]]],[1,"\\n"],[13],[1,"\\n"]],[],false,["d-modal-body","event-field","email-group-user-chooser","invitedNames","action","mut","hash","d-button"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-invite-user-or-group.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-invitees",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"8sDk0g02",block:'[[[6,[39,0],null,null,[["default"],[[[[1,"  "],[1,[28,[35,1],null,[["value","input","class","placeholderKey"],[[28,[37,2],[[33,3]],null],[28,[37,4],[[30,0],"onFilterChanged"],[["value"],["target.value"]]],"filter","discourse_post_event.invitees_modal.filter_placeholder"]]]],[1,"\\n  "],[1,[28,[35,5],null,[["modal","toggle"],[[30,0],[28,[37,4],[[30,0],"toggleType"],null]]]]],[1,"\\n"],[6,[39,6],null,[["condition"],[[33,7]]],[["default"],[[[[41,[33,9],[[[1,"      "],[10,"ul"],[14,0,"invitees"],[12],[1,"\\n"],[42,[28,[37,11],[[28,[37,11],[[33,9]],null]],null],null,[[[1,"          "],[10,"li"],[14,0,"invitee"],[12],[1,"\\n            "],[1,[28,[35,12],[[30,1]],null]],[1,"\\n\\n"],[41,[30,1,["status"]],[[[1,"              "],[10,1],[15,0,[29,["status ",[30,1,["status"]]]]],[12],[1,"\\n                "],[1,[28,[35,13],[[28,[37,14],["discourse_post_event.models.invitee.status.",[30,1,["status"]]],null]],null]],[1,"\\n              "],[13],[1,"\\n"]],[]],[[[1,"              "],[10,1],[14,0,"status"],[12],[1,"\\n                -\\n              "],[13],[1,"\\n"]],[]]],[1,"\\n"],[41,[33,15,["can_act_on_discourse_post_event"]],[[[1,"              "],[1,[28,[35,16],null,[["icon","action"],["trash-alt",[28,[37,4],[[30,0],"removeInvitee",[30,1]],null]]]]],[1,"\\n"]],[]],null],[1,"          "],[13],[1,"\\n"]],[1]],null],[1,"      "],[13],[1,"\\n"]],[]],[[[1,"      "],[10,2],[14,0,"no-users"],[12],[1,"\\n        "],[1,[28,[35,13],["discourse_post_event.models.invitee.no_users"],null]],[1,"\\n      "],[13],[1,"\\n"]],[]]]],[]]]]]],[]]]]]],["invitee"],false,["d-modal-body","input","readonly","filter","action","toggle-invitees-modal","conditional-loading-spinner","isLoading","if","invitees","each","-track-array","render-invitee","i18n","concat","model","d-button"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-invitees.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezone-new-day",["exports","discourse/widgets/widget"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createWidget)("discourse-group-timezone-new-day",{tagName:"div.group-timezone-new-day",template:function(e,t){var s=__widget_helpers.iconNode,i=[]
i.push("\n    ")
var n=[]
n.push("\n      "),n.push(s("chevron-left")),n.push("\n      "),n.push(this.attrs.groupedTimezone.beforeDate),n.push("\n    "),i.push(virtualDom.h("span",{className:"before",attributes:{}},n)),i.push("\n    ")
var o=[]
return o.push("\n      "),o.push(this.attrs.groupedTimezone.afterDate),o.push("\n      "),o.push(s("chevron-right")),o.push("\n    "),i.push(virtualDom.h("span",{className:"after",attributes:{}},o)),i.push("\n  "),i}})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezone",["exports","discourse/widgets/widget"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createWidget)("discourse-group-timezone",{tagName:"div.group-timezone",buildClasses(e){const t=[]
return e.groupedTimezone.closeToWorkingHours&&t.push("close-to-working-hours"),e.groupedTimezone.inWorkingHours&&t.push("in-working-hours"),t.join(" ")},transform:e=>({formatedTime:e.groupedTimezone.nowWithOffset.format("LT")}),template:function(e,t){var s=__widget_helpers.rawHtml,i=[]
i.push("\n    ")
var n=[]
n.push("\n      ")
var o=[]
o.push("\n        "),o.push(this.transformed.formatedTime),o.push("\n      "),n.push(virtualDom.h("span",{className:"time",attributes:{}},o)),n.push("\n      ")
var a=[]
a.push("\n        "),a.push(new s({html:"<span>"+e.groupedTimezone.utcOffset+"</span>"})),a.push("\n      "),n.push(virtualDom.h("span",{className:"offset",attributes:{title:"UTC offset"}},a)),n.push("\n    "),i.push(virtualDom.h("div",{className:"info",attributes:{}},n)),i.push("\n    ")
var r=[]
return r.push("\n"),e.groupedTimezone.members&&e.groupedTimezone.members.length&&e.groupedTimezone.members.forEach((t=>{r.push("        "),r.push(this.attach("discourse-group-timezones-member",{usersOnHoliday:e.usersOnHoliday,member:t},void 0,void 0)),r.push("\n")})),r.push("    "),i.push(virtualDom.h("ul",{className:"group-timezones-members",attributes:{}},r)),i.push("\n  "),i}})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezones-filter",["exports","I18n","discourse/widgets/widget","@ember/runloop"],(function(e,t,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=(0,s.createWidget)("discourse-group-timezones-filter",{tagName:"input.group-timezones-filter",input(e){this.changeFilterThrottler(e.target.value)},changeFilterThrottler(e){(0,i.throttle)(this,(function(){this.sendWidgetAction("onChangeFilter",e)}),100)},buildAttributes:()=>({type:"text",placeholder:t.default.t("group_timezones.search")})})
e.default=n})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezones-header",["exports","I18n","discourse/widgets/widget"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=(0,s.createWidget)("discourse-group-timezones-header",{tagName:"div.group-timezones-header",transform:e=>({title:t.default.t("group_timezones.group_availability",{group:e.group})}),template:function(e,t){var s=[]
s.push("\n    "),s.push(this.attach("discourse-group-timezones-time-traveler",{id:e.id,localTimeOffset:e.localTimeOffset},void 0,void 0)),s.push("\n    ")
var i=[]
return i.push("\n      "),i.push(this.transformed.title),i.push("\n    "),s.push(virtualDom.h("span",{className:"title",attributes:{}},i)),s.push("\n    "),s.push(this.attach("discourse-group-timezones-filter",void 0,void 0,void 0)),s.push("\n  "),s}})
e.default=i})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezones-member",["exports","virtual-dom","discourse/widgets/post","discourse/widgets/widget","discourse/lib/utilities"],(function(e,t,s,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var o=(0,i.createWidget)("discourse-group-timezones-member",{tagName:"li.group-timezones-member",buildClasses:e=>e.usersOnHoliday.includes(e.member.username)?"on-holiday":"not-on-holiday",html(e){const{name:i,username:o,avatar_template:a}=e.member
return(0,t.h)("a",{attributes:{class:"group-timezones-member-avatar","data-user-card":o}},(0,s.avatarImg)("small",{template:a,username:i||(0,n.formatUsername)(o)}))}})
e.default=o})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezones-reset",["exports","discourse/widgets/widget"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createWidget)("discourse-group-timezones-reset",{tagName:"div.group-timezones-reset",onResetOffset(){this.sendWidgetAction("onChangeCurrentUserTimeOffset",0)
const e=document.getElementById(this.attrs.id).querySelector("input[type=range].group-timezones-slider")
e&&(e.value=0)},transform:e=>({isDisabled:0===e.localTimeOffset}),template:function(e,t){var s=[]
return s.push("\n    "),s.push(this.attach("button",{disabled:this.transformed.isDisabled,action:"onResetOffset",icon:"undo"},void 0,void 0)),s.push("\n  "),s}})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezones-slider",["exports","discourse/widgets/widget","@ember/runloop"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=(0,t.createWidget)("discourse-group-timezones-slider",{tagName:"input.group-timezones-slider",input(e){this._handleSliderEvent(e)},change(e){this._handleSliderEvent(e)},changeOffsetThrottler(e){(0,s.throttle)(this,(function(){this.sendWidgetAction("onChangeCurrentUserTimeOffset",e)}),75)},buildAttributes:()=>({step:1,value:0,min:-48,max:48,type:"range"}),_handleSliderEvent(e){const t=15*parseInt(e.target.value,10)
this.changeOffsetThrottler(t)}})
e.default=i})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezones-time-traveler",["exports","discourse/widgets/widget","discourse/plugins/discourse-calendar/lib/round-time"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=(0,t.createWidget)("discourse-group-timezones-time-traveler",{tagName:"div.group-timezones-time-traveler",transform(e){let t=moment().add(e.localTimeOffset,"minutes")
return e.localTimeOffset&&(t=(0,s.default)(t)),{localTimeWithOffset:t.format("HH:mm")}},template:function(e,t){var s=[]
s.push("\n    ")
var i=[]
i.push("\n      "),i.push(this.transformed.localTimeWithOffset),i.push("\n    "),s.push(virtualDom.h("span",{className:"time",attributes:{}},i)),s.push("\n    ")
var n=[]
return n.push("\n      "),n.push(this.attach("discourse-group-timezones-slider",void 0,void 0,void 0)),n.push("\n    "),s.push(virtualDom.h("span",{className:"discourse-group-timezones-slider-wrapper",attributes:{}},n)),s.push("\n    "),s.push(this.attach("discourse-group-timezones-reset",{id:e.id,localTimeOffset:e.localTimeOffset},void 0,void 0)),s.push("\n  "),s}})
e.default=i})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezones",["exports","discourse/widgets/widget","discourse/plugins/discourse-calendar/lib/round-time"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=(0,t.createWidget)("discourse-group-timezones",{tagName:"div.group-timezones",buildKey:e=>"group-timezones-".concat(e.id),buildClasses:e=>e.size,buildAttributes:e=>({id:e.id}),defaultState:()=>({localTimeOffset:0}),onChangeCurrentUserTimeOffset(e){this.state.localTimeOffset=e},transform(e,t){const s=e.members||[]
let i,n=[]
return s.filterBy("timezone").forEach((e=>{if(this._shouldAddMemberToGroup(this.state.filter,e)){const s=e.timezone,i=parseInt(moment.tz(s).format("YYYYMDHm"),10)
let o=n.findBy("identifier",i)
if(o)o.members.push(e)
else{const a=this._roundMoment(moment.tz(s)),r=this._workingDays(),l=moment.tz(moment.utc(),s).utcOffset()
o={identifier:i,offset:l,type:"discourse-group-timezone",nowWithOffset:a.add(t.localTimeOffset,"minutes"),closeToWorkingHours:this._closeToWorkingHours(a,r),inWorkingHours:this._inWorkingHours(a,r),utcOffset:this._utcOffset(l),members:[e]},n.push(o)}}})),n=n.sortBy("offset").filter((e=>e.members.length)),n.forEach(((e,t)=>{t>0&&n[t-1].nowWithOffset.format("dddd")!==e.nowWithOffset.format("dddd")&&(i=t)})),i&&n.splice(i,0,{type:"discourse-group-timezone-new-day",beforeDate:n[i-1].nowWithOffset.format("dddd"),afterDate:n[i].nowWithOffset.format("dddd")}),{groupedTimezones:n}},onChangeFilter(e){this.state.filter=e&&e.length?e:null},template:function(e,t){var s=[]
s.push("\n    "),s.push(this.attach("discourse-group-timezones-header",{id:e.id,group:e.group,localTimeOffset:t.localTimeOffset},void 0,void 0)),s.push("\n    ")
var i=[]
return i.push("\n"),this.transformed.groupedTimezones&&this.transformed.groupedTimezones.length&&this.transformed.groupedTimezones.forEach((t=>{i.push("        "),i.push(this.attach(t.type,{usersOnHoliday:e.usersOnHoliday,groupedTimezone:t},void 0,void 0)),i.push("\n")})),i.push("    "),s.push(virtualDom.h("div",{className:"group-timezones-body",attributes:{}},i)),s.push("\n  "),s},_shouldAddMemberToGroup:(e,t)=>!e||(e=e.toLowerCase(),!!(t.username.toLowerCase().indexOf(e)>-1||t.name&&t.name.toLowerCase().indexOf(e)>-1)),_roundMoment(e){return this.state.localTimeOffset&&(e=(0,s.default)(e)),e},_closeToWorkingHours(e,t){const s=e.hours(),i=this.siteSettings.working_day_start_hour,n=this.siteSettings.working_day_end_hour,o=this.siteSettings.close_to_working_day_hours_extension
return(s>=Math.max(i-o,0)&&s<=i||s<=Math.min(n+o,23)&&s>=n)&&t.includes(e.isoWeekday())},_inWorkingHours(e,t){const s=e.hours()
return s>this.siteSettings.working_day_start_hour&&s<this.siteSettings.working_day_end_hour&&t.includes(e.isoWeekday())},_utcOffset(e){const t=1===Math.sign(e)?"+":"-"
e=Math.abs(e)
let s=Math.floor(e/60).toString()
s=1===s.length?"0".concat(s):s
let i=(e%60).toString()
return i=1===i.length?":".concat(i,"0"):":".concat(i),"".concat(t).concat(s.replace(/^0(\d)/,"$1")).concat(i.replace(/:00$/,"")).replace(/-0/,"&nbsp;")},_workingDays(){const e=moment().locale("en")
return this.siteSettings.working_days.split("|").filter(Boolean).map((t=>{return s=t,e.localeData()._weekdays.indexOf(s)||7
var s}))}})
e.default=i})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-post-event-dates",["exports","I18n","discourse/widgets/raw-html","discourse-common/lib/icon-library","virtual-dom","discourse/widgets/widget"],(function(e,t,s,i,n,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var a=(0,o.createWidget)("discourse-post-event-dates",{tagName:"section.event-dates",showAllParticipatingInvitees(e){this.sendWidgetAction("showAllInvitees",{postId:e,title:"title_participated",extraClass:"participated"})},html(e){const o=[(0,i.iconNode)("clock"),(0,n.h)("span.date",new s.default({html:"<span>".concat(e.localDates,"</span>")}))]
if(e.eventModel.is_expired&&"standalone"!==e.eventModel.status){let s
const i=t.default.t("discourse_post_event.event_ui.participants",{count:e.eventModel.stats.going})
s=e.eventModel.stats.going>0?this.attach("link",{action:"showAllParticipatingInvitees",actionParam:e.eventModel.id,contents:()=>i}):i,o.push((0,n.h)("span.participants",[(0,n.h)("span"," - "),s]))}return o}})
e.default=a})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-post-event-host",["exports","virtual-dom","discourse/widgets/post","discourse/widgets/widget","discourse/lib/utilities"],(function(e,t,s,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var o=(0,i.createWidget)("discourse-post-event-creator",{tagName:"span.event-creator",html(e){const{name:i,username:o,avatar_template:a}=e.user
return(0,t.h)("a",{attributes:{class:"topic-invitee-avatar","data-user-card":o}},[(0,s.avatarImg)("tiny",{template:a,username:i||(0,n.formatUsername)(o)}),(0,t.h)("span",{attributes:{class:"username"}},i||(0,n.formatUsername)(o))])}})
e.default=o})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-post-event-invitee",["exports","I18n","@ember/utils","virtual-dom","discourse/widgets/post","discourse/widgets/widget","discourse/lib/utilities"],(function(e,t,s,i,n,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=(0,o.createWidget)("discourse-post-event-invitee",{tagName:"li.event-invitee",buildClasses(e){const t=[]
return(0,s.isPresent)(e.invitee.status)&&t.push("status-".concat(e.invitee.status)),this.currentUser&&this.currentUser.username===e.invitee.user.username&&t.push("is-current-user"),t},html(e){const{name:s,username:o,avatar_template:r}=e.invitee.user
let l
switch(e.invitee.status){case"going":l="fa-check"
break
case"interested":l="fa-star"
break
case"not_going":l="fa-times"}const d=[(0,n.avatarImg)(this.site.mobileView?"tiny":"large",{template:r,username:s||(0,a.formatUsername)(o)})]
return l&&d.push(this.attach("avatar-flair",{flair_name:t.default.t("discourse_post_event.models.invitee.status.".concat(e.invitee.status)),flair_url:l})),(0,i.h)("a",{attributes:{class:"topic-invitee-avatar","data-user-card":o}},d)}})
e.default=r})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-post-event-invitees",["exports","discourse/widgets/widget"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createWidget)("discourse-post-event-invitees",{tagName:"section.event-invitees",transform:e=>({isPrivateEvent:"private"===e.eventModel.status}),template:function(e,t){var s=[]
s.push("\n    ")
var i=[]
i.push("\n      ")
var n=[]
n.push("\n        ")
var o=[]
o.push(e.eventModel.stats.going),o.push(" "),o.push(I18n.t("discourse_post_event.models.invitee.status.going")),o.push(" -"),n.push(virtualDom.h("span",o)),n.push("\n        ")
var a=[]
a.push(e.eventModel.stats.interested),a.push(" "),a.push(I18n.t("discourse_post_event.models.invitee.status.interested")),a.push(" -"),n.push(virtualDom.h("span",a)),n.push("\n        ")
var r=[]
if(r.push(e.eventModel.stats.not_going),r.push(" "),r.push(I18n.t("discourse_post_event.models.invitee.status.not_going")),n.push(virtualDom.h("span",r)),n.push("\n"),this.transformed.isPrivateEvent){n.push("          ")
var l=[]
l.push("- on "),l.push(e.eventModel.stats.invited),l.push(" users invited"),n.push(virtualDom.h("span",{className:"invited",attributes:{}},l)),n.push("\n")}n.push("      "),i.push(virtualDom.h("div",{className:"event-invitees-status",attributes:{}},n)),i.push("\n\n      "),i.push(this.attach("button",{className:"show-all btn-small",label:"discourse_post_event.event_ui.show_all",action:"showAllInvitees",actionParam:{postId:e.eventModel.id}},void 0,void 0)),i.push("\n    "),s.push(virtualDom.h("div",{className:"header",attributes:{}},i)),s.push("\n    ")
var d=[]
return d.push("\n"),e.eventModel.sample_invitees&&e.eventModel.sample_invitees.length&&e.eventModel.sample_invitees.forEach((e=>{d.push("        "),d.push(this.attach("discourse-post-event-invitee",{invitee:e},void 0,void 0)),d.push("\n")})),d.push("    "),s.push(virtualDom.h("ul",{className:"event-invitees-avatars",attributes:{}},d)),s.push("\n  "),s}})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-post-event-status",["exports","discourse/widgets/widget"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createWidget)("discourse-post-event-status",{tagName:"div.event-status",buildKey:e=>"discourse-post-event-status-".concat(e.id),buildClasses(e){if(e.watchingInvitee)return"status-".concat(e.watchingInvitee.status)},template:function(e,t){var s=[]
return s.push("\n    "),s.push(this.attach("going-button",void 0,void 0,void 0)),s.push("\n    "),s.push(this.attach("interested-button",void 0,void 0,void 0)),s.push("\n    "),s.push(this.attach("not-going-button",void 0,void 0,void 0)),s.push("\n  "),s}})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-post-event-url",["exports","discourse-common/lib/icon-library","virtual-dom","discourse/widgets/widget"],(function(e,t,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=(0,i.createWidget)("discourse-post-event-url",{tagName:"section.event-url",html(e){return[(0,t.iconNode)("link"),(0,s.h)("a.url",{attributes:{href:(i=e.url,-1===i.indexOf("://")&&-1===i.indexOf("mailto:")?"https://"+i:i),target:"_blank",rel:"noopener noreferrer"}},e.url)]
var i}})
e.default=n})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-post-event",["exports","I18n","discourse/lib/text","discourse/lib/export-csv","discourse/plugins/discourse-calendar/lib/clean-title","@ember/string","@ember/object","discourse/lib/show-modal","discourse/widgets/widget","discourse/helpers/route-action","discourse/plugins/discourse-calendar/lib/raw-event-helper","discourse/lib/utilities"],(function(e,t,s,i,n,o,a,r,l,d,u,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var p=(0,l.createWidget)("discourse-post-event",{tagName:"div.discourse-post-event-widget",services:["dialog"],buildKey:e=>"discourse-post-event-".concat(e.id),buildClasses(){if(this.state.event)return["has-discourse-post-event"]},inviteUserOrGroup(e){this.store.find("discourse-post-event-event",e).then((e=>{(0,r.default)("discourse-post-event-invite-user-or-group",{model:e})}))},showAllInvitees(e){const t=e.postId,s=e.title||"title_invited",i=e.extraClass||"invited",n="discourse-post-event-invitees"
this.store.find("discourse-post-event-event",t).then((e=>{(0,r.default)(n,{model:e,title:"discourse_post_event.invitees_modal.".concat(s),modalClass:["".concat((0,o.dasherize)(n).toLowerCase(),"-modal"),i].join(" ")})}))},editPostEvent(e){this.store.find("discourse-post-event-event",e).then((e=>{(0,r.default)("discourse-post-event-builder",{model:{eventModel:e,topicId:e.post.topic.id}})}))},closeEvent(e){this.dialog.yesNoConfirm({message:t.default.t("discourse_post_event.builder_modal.confirm_close"),didConfirm:()=>this.store.find("post",e.id).then((i=>{const n=i.raw,o=e.starts_at?moment(e.starts_at):moment(),a=(0,u.buildParams)(moment().isBefore(o)?moment():o,moment().isBefore(o)?moment().add(1,"minute"):moment(),e,this.siteSettings),r=(0,u.replaceRaw)(a,n)
if(r){const e={raw:r,edit_reason:t.default.t("discourse_post_event.edit_reason")}
return s.default.cookAsync(r).then((t=>(e.cooked=t.string,i.save(e))))}}))})},changeWatchingInviteeStatus(e){this.state.eventModel.watching_invitee?this.store.update("discourse-post-event-invitee",this.state.eventModel.watching_invitee.id,{status:e,post_id:this.state.eventModel.id}):this.store.createRecord("discourse-post-event-invitee").save({post_id:this.state.eventModel.id,status:e})},defaultState:e=>({eventModel:e.eventModel}),exportPostEvent(e){(0,i.exportEntity)("post_event",{name:"post_event",id:e})},bulkInvite(e){(0,r.default)("discourse-post-event-bulk-invite",{model:{eventModel:e}})},sendPMToCreator(){const e=this.register.lookup("service:router")._router;(0,d.routeAction)("composePrivateMessage",e,a.default.create(this.state.eventModel.creator),a.default.create(this.state.eventModel.post)).call()},addToCalendar(){const e=this.state.eventModel
this.attrs.api.downloadCalendar(e.name||e.post.topic.title,[{startsAt:e.starts_at,endsAt:e.ends_at}])},transform(){const e=this.state.eventModel
return{eventStatusLabel:t.default.t("discourse_post_event.models.event.status.".concat(e.status,".title")),eventStatusDescription:t.default.t("discourse_post_event.models.event.status.".concat(e.status,".description")),startsAtMonth:moment(e.starts_at).format("MMM"),startsAtDay:moment(e.starts_at).format("D"),eventName:(0,s.emojiUnescape)((0,c.escapeExpression)(e.name)||this._cleanTopicTitle(e.post.topic.title,e.starts_at)),statusClass:"status ".concat(e.status),isPublicEvent:"public"===e.status,isStandaloneEvent:"standalone"===e.status,canActOnEvent:this.currentUser&&this.state.eventModel.can_act_on_discourse_post_event}},template:function(e,s){var i=__widget_helpers.rawHtml,n=[]
if(n.push("\n"),s.eventModel){n.push("      ")
var o=[]
o.push("\n        ")
var a=[]
a.push("\n          ")
var r=[]
r.push(this.transformed.startsAtMonth),a.push(virtualDom.h("div",{className:"month",attributes:{}},r)),a.push("\n          ")
var l=[]
l.push(this.transformed.startsAtDay),a.push(virtualDom.h("div",{className:"day",attributes:{}},l)),a.push("\n        "),o.push(virtualDom.h("div",{className:"event-date",attributes:{}},a)),o.push("\n        ")
var d=[]
d.push("\n          ")
var u=[]
u.push("\n            "),u.push(new i({html:"<span>"+this.transformed.eventName+"</span>"})),u.push("\n          "),d.push(virtualDom.h("span",{className:"name",attributes:{}},u)),d.push("\n          ")
var c=[]
if(c.push("\n"),!this.transformed.isStandaloneEvent){if(s.eventModel.is_expired){c.push("                ")
var p=[]
p.push("\n                  "),p.push(t.default.t("discourse_post_event.models.event.expired")),p.push("\n                "),c.push(virtualDom.h("span",{className:"status expired",attributes:{}},p)),c.push("\n")}else{c.push("                ")
var m=[]
m.push("\n                  "),m.push(this.transformed.eventStatusLabel),m.push("\n                "),c.push(virtualDom.h("span",{className:this.transformed.statusClass,attributes:{title:this.transformed.eventStatusDescription}},m)),c.push("\n")}c.push("              ")
var v=[]
v.push("Â·"),c.push(virtualDom.h("span",{className:"separator",attributes:{}},v)),c.push("\n")}c.push("            ")
var f=[]
f.push("\n              ")
var h=[]
if(h.push(t.default.t("discourse_post_event.event_ui.created_by")),f.push(virtualDom.h("span",{className:"created-by",attributes:{}},h)),f.push("\n              "),f.push(this.attach("discourse-post-event-creator",{user:s.eventModel.creator},void 0,void 0)),f.push("\n            "),c.push(virtualDom.h("span",{className:"creators",attributes:{}},f)),c.push("\n          "),d.push(virtualDom.h("div",{className:"status-and-creators",attributes:{}},c)),d.push("\n        "),o.push(virtualDom.h("div",{className:"event-info",attributes:{}},d)),o.push("\n\n        "),o.push(this.attach("more-dropdown",{canActOnEvent:this.transformed.canActOnEvent,isPublicEvent:this.transformed.isPublicEvent,eventModel:s.eventModel},void 0,void 0)),o.push("\n      "),n.push(virtualDom.h("header",{className:"event-header",attributes:{}},o)),n.push("\n\n"),s.eventModel.can_update_attendance){n.push("        ")
var _=[]
_.push("\n          "),_.push(this.attach("discourse-post-event-status",{watchingInvitee:this.state.eventModel.watching_invitee},void 0,void 0)),_.push("\n        "),n.push(virtualDom.h("section",{className:"event-actions",attributes:{}},_)),n.push("\n")}if(n.push("\n"),this.state.eventModel.url){n.push("        ")
n.push(virtualDom.h("hr",[])),n.push("\n\n        "),n.push(this.attach("discourse-post-event-url",{url:this.state.eventModel.url},void 0,void 0)),n.push("\n")}n.push("\n      ")
if(n.push(virtualDom.h("hr",[])),n.push("\n\n      "),n.push(this.attach("discourse-post-event-dates",{localDates:e.localDates,eventModel:s.eventModel},void 0,void 0)),n.push("\n\n"),s.eventModel.should_display_invitees){n.push("        ")
n.push(virtualDom.h("hr",[])),n.push("\n\n        "),n.push(this.attach("discourse-post-event-invitees",{eventModel:s.eventModel},void 0,void 0)),n.push("\n")}}return n.push("  "),n},_cleanTopicTitle(e,t){e=(0,c.escapeExpression)(e)
const s=(0,n.default)(e,t)
return s?e.replace(s,""):e}})
e.default=p}))
define("discourse/plugins/discourse-calendar/discourse/widgets/event-invitation-notification-item",["I18n","discourse/widgets/widget","discourse/widgets/default-notification-item","discourse/lib/utilities","discourse-common/lib/icon-library"],(function(e,t,s,i,n){"use strict";(0,t.createWidgetFrom)(s.DefaultNotificationItem,"event-invitation-notification-item",{notificationTitle:(t,s)=>s.title?e.default.t(s.title):"",text(t,s){const n="<span>".concat((0,i.formatUsername)(s.display_username),"</span>")
let o
o=s.topic_title?'<span data-topic-id="'.concat(this.attrs.topic_id,'">').concat((0,i.escapeExpression)(s.topic_title),"</span>"):this.description(s)
let a=s.message
return"discourse_post_event.notifications.invite_user_predefined_attendance_notification"===a&&(a+="_html"),e.default.t(a,{description:o,username:n})},icon:(e,t)=>(0,n.iconNode)("notification.".concat(t.message))})})),define("discourse/plugins/discourse-calendar/discourse/widgets/event-reminder-notification-item",["I18n","discourse/widgets/widget","discourse/widgets/default-notification-item","discourse/lib/utilities","discourse-common/lib/icon-library"],(function(e,t,s,i,n){"use strict";(0,t.createWidgetFrom)(s.DefaultNotificationItem,"event-reminder-notification-item",{notificationTitle:(t,s)=>s.title?e.default.t(s.title):"",text(t,s){const n=(0,i.formatUsername)(s.display_username)
let o
return o=s.topic_title?'<span data-topic-id="'.concat(this.attrs.topic_id,'">').concat((0,i.escapeExpression)(s.topic_title),"</span>"):this.description(s),e.default.t("".concat(s.message,"_html"),{description:o,username:n})},icon:(e,t)=>(0,n.iconNode)("notification.".concat(t.message))})})),define("discourse/plugins/discourse-calendar/discourse/widgets/going-button",["exports","discourse/widgets/widget"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createWidget)("going-button",{tagName:"button.going-button.btn.btn-default",click(){this.sendWidgetAction("changeWatchingInviteeStatus","going")},template:function(e,t){var s=__widget_helpers.iconNode,i=[]
i.push("\n    "),i.push(s("check")),i.push("\n    ")
var n=[]
return n.push("\n      "),n.push(I18n.t("discourse_post_event.models.invitee.status.going")),n.push("\n    "),i.push(virtualDom.h("span",{className:"label",attributes:{}},n)),i.push("\n  "),i}})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/widgets/interested-button",["exports","discourse/widgets/widget"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createWidget)("interested-button",{tagName:"button.interested-button.btn.btn-default",click(){this.sendWidgetAction("changeWatchingInviteeStatus","interested")},template:function(e,t){var s=__widget_helpers.iconNode,i=[]
i.push("\n    "),i.push(s("star")),i.push("\n    ")
var n=[]
return n.push("\n      "),n.push(I18n.t("discourse_post_event.models.invitee.status.interested")),n.push("\n    "),i.push(virtualDom.h("span",{className:"label",attributes:{}},n)),i.push("\n  "),i}})
e.default=s})),define("discourse/plugins/discourse-calendar/discourse/widgets/more-dropdown",["exports","I18n","discourse/widgets/widget"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=(0,s.createWidget)("more-dropdown",{tagName:"div.more-dropdown",buildKey:()=>"more-dropdown",transform(e){return{content:this._buildContent(e),onChange:e=>this.sendWidgetAction(e.id,e.param),options:{}}},template:function(e,t){var s=[]
return s.push("\n    "),s.push(this.attach("widget-dropdown",{id:"more-dropdown",translatedLabel:"More",icon:"ellipsis-h",content:this.transformed.content,onChange:this.transformed.onChange,options:this.transformed.options},void 0,void 0)),s.push("\n  "),s},buildClasses(e){if(!this._buildContent(e).length)return["has-no-actions"]},_buildContent(e){const s=[]
return e.eventModel.is_expired||s.push({id:"addToCalendar",icon:"file",label:"discourse_post_event.event_ui.add_to_calendar"}),this.currentUser&&s.push({id:"sendPMToCreator",icon:"envelope",translatedLabel:t.default.t("discourse_post_event.event_ui.send_pm_to_creator",{username:e.eventModel.creator.username})}),!e.is_expired&&e.canActOnEvent&&e.isPublicEvent&&s.push({id:"inviteUserOrGroup",icon:"user-plus",label:"discourse_post_event.event_ui.invite",param:e.eventModel.id}),e.canActOnEvent&&(s.push("separator"),s.push({icon:"file-csv",id:"exportPostEvent",label:"discourse_post_event.event_ui.export_event",param:e.eventModel.id}),e.eventModel.is_expired||e.eventModel.is_standalone||s.push({icon:"file-upload",id:"bulkInvite",label:"discourse_post_event.event_ui.bulk_invite",param:e.eventModel}),s.push({icon:"pencil-alt",id:"editPostEvent",label:"discourse_post_event.event_ui.edit_event",param:e.eventModel.id}),e.eventModel.is_expired||s.push({icon:"times",id:"closeEvent",label:"discourse_post_event.event_ui.close_event",class:"danger",param:e.eventModel})),s}})
e.default=i})),define("discourse/plugins/discourse-calendar/discourse/widgets/not-going-button",["exports","discourse/widgets/widget"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createWidget)("not-going-button",{tagName:"button.not-going-button.btn.btn-default",click(){this.sendWidgetAction("changeWatchingInviteeStatus","not_going")},template:function(e,t){var s=__widget_helpers.iconNode,i=[]
i.push("\n    "),i.push(s("times")),i.push("\n    ")
var n=[]
return n.push("\n      "),n.push(I18n.t("discourse_post_event.models.invitee.status.not_going")),n.push("\n    "),i.push(virtualDom.h("span",{className:"label",attributes:{}},n)),i.push("\n  "),i}})
e.default=s})),define("discourse/plugins/discourse-calendar/helpers/format-event-name",["exports","discourse-common/lib/helpers"],(function(e,t){"use strict"
function s(e){return e.name||e.post.topic.title}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.formatEventName=s
var i=(0,t.htmlHelper)((e=>s(e)))
e.default=i})),define("discourse/plugins/discourse-calendar/helpers/format-future-date",["exports","discourse/plugins/discourse-calendar/lib/guess-best-date-format","discourse-common/lib/helpers"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=(0,s.htmlHelper)((e=>{e=moment.utc(e).tz(moment.tz.guess())
const s=(0,t.default)(e)
return e.format(s)}))
e.default=i})),define("discourse/plugins/discourse-calendar/helpers/render-invitee",["exports","discourse/helpers/user-avatar","discourse/lib/url","discourse-common/lib/helpers","@ember/template","discourse/lib/utilities"],(function(e,t,s,i,n,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var a=(0,i.htmlHelper)((e=>{const i=(0,s.userPath)(e.user.username),a='\n    <a href="'.concat(i,'" data-user-card="').concat(e.user.username,'">\n      <span class="user">\n        ').concat((0,t.renderAvatar)(e.user,{imageSize:"medium"}),'\n        <span class="username">\n         ').concat((0,o.formatUsername)(e.user.username),"\n        </span>\n      </span>\n    </a>\n  ")
return(0,n.htmlSafe)(a)}))
e.default=a})),define("discourse/plugins/discourse-calendar/initializers/add-event-ui-builder",["exports","discourse/lib/plugin-api","discourse/lib/show-modal"],(function(e,t,s){"use strict"
function i(e){const t=e.getCurrentUser()
e.addToolbarPopupMenuOptionsCallback((e=>{if(!t||!t.can_create_discourse_post_event)return
const s=e.model
return s&&!s.replyingToTopic&&(s.topicFirstPost||s.creatingPrivateMessage||s.editingPost&&s.post&&1===s.post.post_number)?{label:"discourse_post_event.builder_modal.attach",id:"insertEvent",group:"insertions",icon:"calendar-day",action:"insertEvent"}:void 0})),e.modifyClass("controller:composer",{pluginId:"discourse-calendar",actions:{insertEvent(){const e=this.store.createRecord("discourse-post-event-event")
e.set("status","public"),e.set("custom_fields",{}),e.set("starts_at",moment()),e.set("timezone",moment.tz.guess()),(0,s.default)("discourse-post-event-builder").setProperties({toolbarEvent:this.toolbarEvent,model:{eventModel:e}})}}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n={name:"add-discourse-post-event-builder",initialize(e){e.lookup("service:site-settings").discourse_post_event_enabled&&(0,t.withPluginApi)("0.8.7",i)}}
e.default=n})),define("discourse/plugins/discourse-calendar/initializers/add-hamburger-menu-action",["exports","discourse/lib/plugin-api"],(function(e,t){"use strict"
function s(e){e.decorateWidget("hamburger-menu:generalLinks",(()=>({icon:"calendar-day",route:"discourse-post-event-upcoming-events",label:"discourse_post_event.upcoming_events.title"})))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i={name:"add-hamburger-menu-action",initialize(e){e.lookup("service:site-settings").discourse_post_event_enabled&&(0,t.withPluginApi)("0.8.7",s)}}
e.default=i})),define("discourse/plugins/discourse-calendar/initializers/decorate-topic-title",["exports","discourse/lib/plugin-api","discourse/plugins/discourse-calendar/lib/event-relative-date","discourse/plugins/discourse-calendar/lib/event-local-date"],(function(e,t,s,i){"use strict"
function n(e){e.decorateTopicTitle(((e,t,n)=>{const o=t.querySelector(".event-date-container")
if(o&&o.remove(),e.event_starts_at&&e.event_ends_at&&("topic-list-item-title"===n||"header-title"===n)){const n=document.createElement("div")
n.classList.add("event-date-container")
const o=document.createElement("span")
o.classList.add("event-date","event-relative-date"),o.dataset.starts_at=e.event_starts_at,o.dataset.ends_at=e.event_ends_at,n.appendChild(o),t.appendChild(n),e.siteSettings.use_local_event_date?(0,i.default)(o):(0,s.default)(o)}}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var o={name:"decorate-topic-title",initialize(e){e.lookup("service:site-settings").discourse_post_event_enabled&&(0,t.withPluginApi)("0.8.40",n)}}
e.default=o})),define("discourse/plugins/discourse-calendar/initializers/disable-sort",["exports","discourse-common/utils/decorators","discourse/lib/plugin-api"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i={name:"disable-sort",initialize(){(0,s.withPluginApi)("0.8",(e=>{var s,i,n,o,a,r,l,d
e.modifyClass("component:topic-list",(s=(0,t.default)("category","siteSettings.disable_resorting_on_categories_enabled"),n=i={pluginId:"discourse-calendar",sortable(e,t){let s=!1
return t&&null!=e&&e.custom_fields&&(s=!!e.custom_fields.disable_topic_resorting),!!this.changeSort&&!s}},o="sortable",a=[s],r=Object.getOwnPropertyDescriptor(i,"sortable"),l=i,d={},Object.keys(r).forEach((function(e){d[e]=r[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=a.slice().reverse().reduce((function(e,t){return t(n,o,e)||e}),d),l&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(l):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(n,o,d),d=null),i))}))}}
e.default=i})),define("discourse/plugins/discourse-calendar/initializers/discourse-calendar",["exports","rsvp","@ember/utils","discourse/lib/url","discourse/lib/text","discourse/lib/utilities","discourse/lib/load-script","discourse/lib/plugin-api","discourse/lib/ajax","discourse/models/category","I18n","discourse/plugins/discourse-calendar/lib/colors","@popperjs/core","discourse/plugins/discourse-calendar/lib/guess-best-date-format","discourse/plugins/discourse-calendar/helpers/format-event-name","discourse-common/lib/get-url"],(function(e,t,s,i,n,o,a,r,l,d,u,c,p,m,v,f){"use strict"
function h(){return(0,a.default)("/plugins/discourse-calendar/javascripts/fullcalendar-with-moment-timezone.min.js")}let _
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g="event-popover"
function b(e){const a=e.container.lookup("service:site-settings")
if(a.login_required&&!e.getCurrentUser())return
let r
const b=a.calendar_categories_outlet,y=e.container.lookup("service:site"),w=y&&y.mobileView
let M=".".concat(b,"-outlet")
function k(t,s){const n=function(e,t){let s=e.attr("data-calendar-default-timezone")
moment.tz.zone(s)||(s=null)
return s||(null==t?void 0:t.timezone)||moment.tz.guess()}(t=t.empty(),e.getCurrentUser()),l=function(e,t){let s=document.querySelector(".discourse-calendar-header > .discourse-calendar-title")
const i=(0,o.escapeExpression)(e.attr("data-calendar-default-view")||(w?"listNextYear":"month")),n="false"!==e.attr("data-calendar-show-add-to-calendar")
return new window.FullCalendar.Calendar(e[0],{timeZone:t,timeZoneImpl:"moment-timezone",nextDayThreshold:"06:00:00",displayEventEnd:!0,height:650,firstDay:1,defaultView:i,views:{listNextYear:{type:"list",duration:{days:365},buttonText:"list",listDayFormat:{month:"long",year:"numeric",day:"numeric",weekday:"long"}}},header:{left:"prev,next today",center:"title",right:"month,basicWeek,listNextYear"},datesRender:e=>{n&&j(e),s.innerText=e.view.title}})}(t,n),d="static"===t.attr("data-calendar-type"),u="true"===t.attr("data-calendar-full-day")
d?(l.render(),function(e,t,s){$("<div>".concat(s.cooked,"</div>")).find('.calendar[data-calendar-type="static"] p').html().trim().split("<br>").forEach((t=>{const s=$.parseHTML(t),i=s.filter((e=>$(e).hasClass("discourse-local-date")))
let n=z(O($(i[0])),O($(i[1])))
n.title=s[0].textContent.trim(),e.addEvent(n)}))}(l,0,s)):(function(e,t,s){const i=[];(t.calendar_details||[]).forEach((n=>{switch(n.type){case"grouped":i.push(n)
break
case"standalone":s&&n.timezone&&(n.from=moment.tz(n.from,n.timezone).format("YYYY-MM-DD"),n.to=moment.tz(n.to,n.timezone).format("YYYY-MM-DD")),function(e,t,s){const i=P(s),n=parseInt(a.holiday_calendar_topic_id,10),o=s.message.split("\n").filter((e=>e))
if(o.length&&t.topic_id&&n!==t.topic_id)i.title=o[0],i.extendedProps.description=o.slice(1).join(" ")
else{const e=(0,c.stringToColor)(s.username)
i.title=s.username,i.backgroundColor=(0,c.colorToHex)(e),i.textColor=(0,c.colorToHex)((0,c.contrastColor)(e))}let r=s.message.slice(0,100)
s.message.length>100&&(r+="â¦")
i.extendedProps.htmlContent=r,i.title=i.title.replace(/<img[^>]*>/g,""),e.addEvent(i)}(e,t,n)}}))
const n={}
i.forEach((e=>{const t=s?moment(e.from).format("YYYY-MM-DD"):moment(e.from).utc().startOf("day").toISOString(),i=s?moment(e.to||e.from).format("YYYY-MM-DD"):moment(e.to||e.from).utc().endOf("day").toISOString(),o="".concat(t,"-").concat(i)
n[o]=n[o]||{from:t,to:i||t,localEvents:{}},n[o].localEvents[e.name]=n[o].localEvents[e.name]||{usernames:[]},n[o].localEvents[e.name].usernames.push.apply(n[o].localEvents[e.name].usernames,e.usernames)})),Object.keys(n).forEach((t=>{const s=n[t];(function(e,t,s){let i="",n=[],o=[]
Object.keys(s.localEvents).sort().forEach((e=>{const t=s.localEvents[e]
i+="<b>".concat(e,"</b>: ").concat(t.usernames.sort().join(", "),"<br>"),n=n.concat(t.usernames),o.push(e)}))
const a=P(s)
a.classNames=["grouped-event"],n.length>2?a.title="(".concat(n.length,") ").concat(o[0]):1===n.length?a.title=n[0]:a.title=w?"(".concat(n.length,") ").concat(o[0]):"(".concat(n.length,") ")+n.join(", ")
o.length>1||n.length>1?a.extendedProps.htmlContent=i:a.extendedProps.htmlContent=o[0]
e.addEvent(a)})(e,0,s)}))}(l,s,u),l.render(),function(t,s){const n="false"===s.attr("data-weekends"),o=s.attr("data-hidden-days")
n&&t.setOption("weekends",!1)
o&&t.setOption("hiddenDays",o.split(",").map((e=>parseInt(e,10))))
t.setOption("eventClick",(t=>{let{event:s,jsEvent:n}=t
A()
const{htmlContent:o,postNumber:a,postUrl:l}=s.extendedProps
l?i.default.routeTo(l):a?(r=r||e.container.lookup("controller:topic"),r.send("jumpToPost",a)):w&&o&&x(n,o)})),t.setOption("eventMouseEnter",(e=>{let{event:t,jsEvent:s}=e
A()
const{htmlContent:i}=t.extendedProps
x(s,i)})),t.setOption("eventMouseLeave",(()=>{A()}))}(l,t)),function(e,t){const s=document.querySelector(".discourse-calendar-timezone-picker")
s?(s.addEventListener("change",(function(t){e.setOption("timeZone",t.target.value),j(e)})),moment.tz.names().forEach((e=>{s.appendChild(new Option(e,e))})),s.value=t):document.querySelector(".discourse-calendar-timezone-wrap").innerText=t}(l,n)}function O(e){const t=e.attr("data-date")
if(!t)return null
const s=e.attr("data-time"),i=e.attr("data-timezone")
let n=t
return s&&(n="".concat(n," ").concat(s)),{weeklyRecurring:"1.weeks"===e.attr("data-recurring"),dateTime:moment.tz(n,i||"Etc/UTC")}}function z(e,t){const s=e=>0!==e.hours()||0!==e.minutes()||0!==e.seconds()
let i={start:e.dateTime.toDate(),allDay:!1}
return t?s(t.dateTime)||s(e.dateTime)?i.end=t.dateTime.toDate():(i.end=t.dateTime.add(1,"days").toDate(),i.allDay=!0):i.allDay=!0,e.weeklyRecurring&&(i.startTime={hours:e.dateTime.hours(),minutes:e.dateTime.minutes(),seconds:e.dateTime.seconds()},i.daysOfWeek=[e.dateTime.day()]),i}function x(e,t){const s=document.createElement("div")
s.setAttribute("id",g),s.innerHTML=t
const i=document.createElement("span")
i.dataset.popperArrow=!0,s.appendChild(i),document.body.appendChild(s),_=(0,p.createPopper)(e.target,document.getElementById(g),{placement:"bottom",modifiers:[{name:"arrow"},{name:"offset",options:{offset:[20,10]}}]})}function A(){var e,t
null===(e=_)||void 0===e||e.destroy(),null===(t=document.getElementById(g))||void 0===t||t.remove()}function P(e){const t=z(e.from?{dateTime:moment(e.from),weeklyRecurring:"1.weeks"===e.recurring}:null,e.to?{dateTime:moment(e.to),weeklyRecurring:"1.weeks"===e.recurring}:null)
return t.extendedProps={},e.post_url?t.extendedProps.postUrl=e.post_url:e.post_number?t.extendedProps.postNumber=e.post_number:t.classNames=["holiday"],t}function j(e){if("listNextYear"!==e.view.type)return
const t=e.view.eventRenderer.segs,s=function(e){let t={}
for(let s of e.view.calendar.getEvents())t[s._instance.defId]={start:s.start,end:s.end}
return t}(e)
for(const i of t)E(i,s)}function E(e,t){const s=e.eventRange.def.title
let i=t[e.eventRange.def.defId],n=i.start,o=i.end
o=o?T(o,e.eventRange.def.allDay):function(e,t){const s=t?"days":"hours"
return T(moment(e).add(1,s).toDate(),t)}(n,e.eventRange.def.allDay),n=T(n,e.eventRange.def.allDay)
const a=document.createElement("a"),r=u.default.t("discourse_calendar.add_to_calendar")
a.title=r,a.appendChild(document.createTextNode(r)),a.href="\n      http://www.google.com/calendar/event?action=TEMPLATE&text=".concat(encodeURIComponent(s),"&dates=").concat(n,"/").concat(o,"&details=").concat(encodeURIComponent(e.eventRange.def.extendedProps.description)),a.target="_blank",a.classList.add("fc-list-item-add-to-calendar"),e.el.querySelector(".fc-list-item-title").appendChild(a)}function T(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
return t?moment(e).utc().format("YYYYMMDD"):e.toISOString().replace(/-|:|\.\d\d\d/g,"")}"before-topic-list-body"===b&&(M=".topic-list:not(.shared-drafts) .".concat(b,"-outlet")),e.onPageChange((e=>{const i=document.querySelector("".concat(M,".category-calendar"))
i&&(i.innerHTML="")
const r=document.getElementById("category-events-calendar")
r&&(r.innerHTML="")
const u=d.default.findBySlugPathWithID(e)
if(!u)return
const c=a.calendar_categories.split("|").filter(Boolean).map((e=>{const t={}
return e.split(";").filter(Boolean).forEach((e=>{const s=e.split("=")
t[s[0]]=s[1]})),t})).findBy("categoryId",u.id.toString())
if(i&&c&&c.postId){const e=c.postId
i.innerHTML='<div class="calendar"><div class="spinner medium"></div></div>',h().then((()=>{const a=["postId=".concat(e)];["weekends","tzPicker","defaultView"].forEach((e=>{(0,s.isPresent)(c[e])&&a.push("".concat(e,"=").concat((0,o.escapeExpression)(c[e])))}))
const r="[calendar ".concat(a.join(" "),"]\n[/calendar]"),d=(0,n.cookAsync)(r),u=(0,l.ajax)("/posts/".concat(e,".json"))
t.Promise.all([d,u]).then((e=>{const t=e[0],s=e[1]
i.innerHTML=t.string,k($(".calendar"),s)}))}))}else{if(!r)return
a.events_calendar_categories.split("|").find((e=>e===u.id.toString()))&&h().then((()=>{let e=new window.FullCalendar.Calendar(r,{})
const s=(0,l.ajax)("/discourse-post-event/events.json?category_id=".concat(u.id))
t.Promise.all([s]).then((t=>{const s=t[0]
s[Object.keys(s)[0]].forEach((t=>{const{starts_at:s,ends_at:i,post:n}=t
e.addEvent({title:(0,v.formatEventName)(t),start:s,end:i||s,allDay:!(0,m.isNotFullDayEvent)(moment(s),moment(i)),url:(0,f.default)("/t/-/".concat(n.topic.id,"/").concat(n.post_number))})})),e.render()}))}))}})),e.decorateCooked(((e,t)=>function(e,t){const s=$(".calendar",e)
if(0===s.length)return
h().then((()=>k(s,t.getModel())))}(e,t)),{onlyStream:!0,id:"discourse-calendar"}),e.registerCustomPostMessageCallback("calendar_change",(e=>{const t=e.get("model.postStream"),s=t.findLoadedPost(t.get("firstPostId")),i=$(".topic-post article#post_1").find(".calendar").first()
s&&i.length>0&&(0,l.ajax)("/posts/".concat(s.id,".json")).then((()=>h().then((()=>k(i,s)))))})),e.registerNotificationTypeRenderer&&(e.registerNotificationTypeRenderer("event_reminder",(e=>class extends e{get linkTitle(){return this.notification.data.title?u.default.t(this.notification.data.title):super.linkTitle}get icon(){return"calendar-day"}get label(){return u.default.t(this.notification.data.message)}get description(){return this.notification.data.topic_title}})),e.registerNotificationTypeRenderer("event_invitation",(e=>class extends e{get icon(){return"calendar-day"}get label(){return"discourse_post_event.notifications.invite_user_predefined_attendance_notification"===this.notification.data.message?u.default.t(this.notification.data.message,{username:this.username}):super.label}get description(){return this.notification.data.topic_title}})))}var y={name:"discourse-calendar",initialize(e){e.lookup("service:site-settings").calendar_enabled&&(0,r.withPluginApi)("0.8.22",b)}}
e.default=y})),define("discourse/plugins/discourse-calendar/initializers/discourse-group-timezones",["exports","discourse/widgets/glue","discourse-common/lib/get-owner","discourse/lib/plugin-api"],(function(e,t,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n={name:"discourse-group-timezones",initialize(){(0,i.withPluginApi)("0.8.7",(e=>{let i=[]
function n(n,o){const a=$(".group-timezones",n)
a.length&&a.each(((n,a)=>{const r=a.getAttribute("data-group")
if(!r)throw"[group] attribute is necessary when using timezones."
const l=(o.get("group_timezones")||{})[r]||[];(function(n,o){const a=new t.default("discourse-group-timezones",(0,s.getRegister)(e),o)
a.appendTo(n),i.push(a)})(a,{id:"".concat(o.id,"-").concat(n),members:l,group:r,usersOnHoliday:e.container.lookup("service:site").users_on_holiday||[],size:a.getAttribute("data-size")||"medium"})}))}e.decorateCooked((function(t,s){if(s){const i=s.getModel()
i&&(e.preventCloak(i.id),n(t,i))}}),{id:"discourse-group-timezones"}),e.cleanupStream((function(){i.forEach((e=>e.cleanUp())),i=[]}))}))}}
e.default=n})),define("discourse/plugins/discourse-calendar/initializers/discourse-post-event-decorator",["exports","I18n","discourse/plugins/discourse-calendar/lib/guess-best-date-format","discourse/lib/text","discourse/widgets/glue","discourse-common/lib/get-owner","discourse/lib/plugin-api","@ember/runloop","discourse/lib/local-dates"],(function(e,t,s,i,n,o,a,r,l){"use strict"
function d(e,t,a){(function(e,t,a){const d=t.querySelector(".discourse-post-event")
if(a&&d){d.innerHTML=""
const t=50
let u=50+75+10+4+10
a.should_display_invitees&&(u+=110),a.can_update_attendance&&(u+=60),a.url&&(u+=t),d.classList.add("is-loading"),d.style.height="".concat(u,"px")
const p=document.createElement("div")
p.innerHTML='<div class="spinner medium"></div>',d.appendChild(p)
const m=a.timezone||"UTC",v=moment(a.starts_at).tz(m),f=a.ends_at&&moment(a.ends_at).tz(m),h=(0,s.default)(v,f),_=e.container.lookup("service:site-settings")
if(_.discourse_local_dates_enabled){const t=[]
t.push("[date=".concat(v.format("YYYY-MM-DD")," time=").concat(v.format("HH:mm")," format=").concat(h," timezone=").concat(m,"]")),f&&t.push("[date=".concat(f.format("YYYY-MM-DD")," time=").concat(f.format("HH:mm")," format=").concat(h," timezone=").concat(m,"]")),(0,i.cookAsync)(t.join("<span> â </span>")).then((t=>{d.classList.remove("is-loading"),d.classList.add("is-loaded")
const s=new n.default("discourse-post-event",(0,o.getRegister)(e),{eventModel:a,widgetHeight:u,localDates:$(t.string).html(),api:e})
s.appendTo(p),c.push(s),(0,r.schedule)("afterRender",(()=>(0,l.applyLocalDates)(document.querySelectorAll('[data-post-id="'.concat(a.id,'"] .discourse-local-date')),_)))}))}else{let t="".concat(v.format(h))
a.ends_at&&(t+=" â ".concat(moment(a.ends_at).format(h)))
const s=new n.default("discourse-post-event",(0,o.getRegister)(e),{eventModel:a,widgetHeight:u,localDates:t,api:e})
s.appendTo(p),c.push(s)}}else if(!a){const e=t.querySelector(".discourse-post-event")
e&&e.remove()}})(e,t,a)}function u(e,i){i.querySelectorAll(".discourse-post-event").forEach(((e,i)=>{i>0?function(e){e.classList.add("discourse-post-event-preview","alert","alert-error"),e.classList.remove("discourse-post-event"),e.innerText=t.default.t("discourse_post_event.preview.more_than_one_event")}(e):function(e){e.innerHTML="",e.classList.add("discourse-post-event-preview")
const i="discourse_post_event.models.event.status.".concat(e.dataset.status||"public",".title")
if(t.default.lookup(i,{locale:"en"})){const s=document.createElement("div")
s.classList.add("event-preview-status"),s.innerText=t.default.t(i),e.appendChild(s)}const n=document.createElement("div")
n.classList.add("event-preview-dates")
const o=moment.tz(e.dataset.start,e.dataset.timezone||"UTC"),a=e.dataset.end&&moment.tz(e.dataset.end,e.dataset.timezone||"UTC"),r=(0,s.default)(o,a)
let l="<span class='start'>".concat(o.tz(moment.tz.guess()).format(r),"</span>")
a&&(l+=" â <span class='end'>".concat(a.tz(moment.tz.guess()).format(r),"</span>")),n.innerHTML=l,e.appendChild(n)}(e)}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=[]
function p(){c.forEach((e=>e.cleanUp())),c=[]}function m(e){e.cleanupStream(p),e.decorateCookedElement(((t,s)=>{if(t.classList.contains("d-editor-preview"))u(0,t)
else if(s){const i=s.getModel()
i&&i.event&&d(e,t,i.event)}}),{id:"discourse-post-event-decorator"}),e.replaceIcon("notification.discourse_post_event.notifications.invite_user_notification","calendar-day"),e.replaceIcon("notification.discourse_post_event.notifications.invite_user_auto_notification","calendar-day"),e.replaceIcon("notification.discourse_calendar.invite_user_notification","calendar-day"),e.replaceIcon("notification.discourse_post_event.notifications.invite_user_predefined_attendance_notification","calendar-day"),e.replaceIcon("notification.discourse_post_event.notifications.before_event_reminder","calendar-day"),e.replaceIcon("notification.discourse_post_event.notifications.after_event_reminder","calendar-day"),e.replaceIcon("notification.discourse_post_event.notifications.ongoing_event_reminder","calendar-day"),e.modifyClass("controller:topic",{pluginId:"discourse-calendar",subscribe(){this._super(...arguments),this.messageBus.subscribe("/discourse-post-event/"+this.get("model.id"),(t=>{const s=document.querySelector('.onscreen-post[data-post-id="'.concat(t.id,'"] .cooked'))
s&&this.store.find("discourse-post-event-event",t.id).then((t=>d(e,s,t))).catch((()=>d(e,s)))}))},unsubscribe(){this.messageBus.unsubscribe("/discourse-post-event/*"),this._super(...arguments)}})}var v={name:"discourse-post-event-decorator",initialize(e){e.lookup("service:site-settings").discourse_post_event_enabled&&(0,a.withPluginApi)("0.8.7",m)}}
e.default=v})),define("discourse/plugins/discourse-calendar/initializers/event-relative-date",["exports","discourse-common/config/environment","@ember/runloop","discourse/plugins/discourse-calendar/lib/event-relative-date","discourse-common/lib/later"],(function(e,t,s,i,n){"use strict"
function o(){document.querySelectorAll(".event-relative-date.topic-list").forEach((e=>(0,i.default)(e)))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var a={name:"event-future-date",initialize(){o(),(0,t.isTesting)()||this._tick()},teardown(){this._interval&&((0,s.cancel)(this._interval),this._interval=null)},_tick(){this._interval&&(0,s.cancel)(this._interval),this._interval=(0,n.default)((()=>{o(),this._tick()}),6e4)}}
e.default=a})),define("discourse/plugins/discourse-calendar/lib/clean-title",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){if(!e||!t)return
const i=e.trim().match(s)
return i&&i[0]}
const t="[-/]",s=new RegExp("[^|\\s](\\d{1,2}".concat(t,"\\d{1,2}").concat(t,"\\d{2,4}(?:\\s\\d{1,2}:\\d{2})?)$"),"g")})),define("discourse/plugins/discourse-calendar/lib/colors",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.colorToHex=function(e){let t="#"
for(let s=0;s<3;s++)t+=("00"+Math.round(e[s]).toString(16)).slice(-2)
return t},e.contrastColor=function(e){const t=.2126*e[0]+.7152*e[1]+.0722*e[2]>=128?.25:4
return[Math.min(Math.max(t*e[0],0),255),Math.min(Math.max(t*e[1],0),255),Math.min(Math.max(t*e[2],0),255)]},e.stringToColor=function(e){let t=0
for(let i=0;i<e.length;i++)t=e.charCodeAt(i)+((t<<5)-t)
let s=[]
for(let i=0;i<3;i++){let e=t>>8*i&255
s.push(e)}return s}})),define("discourse/plugins/discourse-calendar/lib/discourse-markdown/discourse-calendar",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.setup=function(e){e.allowList(["div.calendar","div.discourse-calendar-header","div.discourse-calendar-wrap","select.discourse-calendar-timezone-picker","span.discourse-calendar-timezone-wrap","h2.discourse-calendar-title","div[data-calendar-type]","div[data-calendar-default-view]","div[data-calendar-default-timezone]","div[data-weekends]","div[data-hidden-days]","div.group-timezones","div[data-group]","div[data-size]"]),e.registerOptions(((e,t)=>{e.features["discourse-calendar-enabled"]=!!t.calendar_enabled})),e.registerPlugin((e=>{e.options.discourse.features["discourse-calendar-enabled"]&&(e.block.bbcode.ruler.push("discourse-calendar",t),e.block.bbcode.ruler.push("discourse-group-timezones",s))}))}
const t={tag:"calendar",before:function(e,t){e.push("div_calendar_wrap","div",1).attrs=[["class","discourse-calendar-wrap"]],e.push("div_calendar_header","div",1).attrs=[["class","discourse-calendar-header"]],e.push("h2_open","h2",1).attrs=[["class","discourse-calendar-title"]],e.push("h2_close","h2",-1),e.push("span_open","span",1).attrs=[["class","discourse-calendar-timezone-wrap"]],"true"===t.attrs.tzPicker&&function(e){const t=e.push("select_open","select",1)
t.attrs=[["class","discourse-calendar-timezone-picker"]],e.push("select_close","select",-1)}(e),e.push("span_close","span",-1),e.push("div_calendar_header","div",-1)
let s=e.push("div_calendar","div",1)
s.attrs=[["class","calendar"],["data-calendar-type",t.attrs.type||"dynamic"],["data-calendar-default-timezone",t.attrs.defaultTimezone]],t.attrs.defaultView&&s.attrs.push(["data-calendar-default-view",t.attrs.defaultView]),t.attrs.weekends&&s.attrs.push(["data-weekends",t.attrs.weekends]),t.attrs.showAddToCalendar&&s.attrs.push(["data-calendar-show-add-to-calendar","true"===t.attrs.showAddToCalendar]),t.attrs.fullDay&&s.attrs.push(["data-calendar-full-day","true"===t.attrs.fullDay]),t.attrs.hiddenDays&&s.attrs.push(["data-hidden-days",t.attrs.hiddenDays])},after:function(e){e.push("div_calendar","div",-1),e.push("div_calendar_wrap","div",-1)}},s={tag:"timezones",before:function(e,t){e.push("div_group_timezones","div",1).attrs=[["class","group-timezones"],["data-group",t.attrs.group],["data-size",t.attrs.size||"medium"]]},after:function(e){e.push("div_group_timezones","div",-1)}}})),define("discourse/plugins/discourse-calendar/lib/discourse-markdown/discourse-post-event-block",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.setup=function(e){e.allowList(["div.discourse-post-event"]),e.registerOptions(((e,t)=>{e.features.discourse_post_event=t.calendar_enabled&&t.discourse_post_event_enabled})),e.registerPlugin((e=>e.block.bbcode.ruler.push("discourse-post-event",t)))}
const t={tag:"event",wrap:(e,t)=>!!t.attrs.start&&(e.attrs=[["class","discourse-post-event"]],Object.keys(t.attrs).forEach((s=>{const i=t.attrs[s]
var n
void 0!==i&&e.attrs.push(["data-".concat((n=s,n.replace(/[A-Z]/g,(function(e,t){return(0!==t?"-":"")+e.toLowerCase()})))),i])})),!0)}})),define("discourse/plugins/discourse-calendar/lib/event-local-date",["exports","discourse/plugins/discourse-calendar/lib/guess-best-date-format"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){e.classList.remove("past","current","future"),e.innerHTML=""
const s=moment.utc(e.dataset.starts_at).tz(moment.tz.guess()),i=moment.utc(e.dataset.ends_at).tz(moment.tz.guess()),n=(0,t.default)(s)
let o=s.format(n)
i&&(o+=" â ".concat(i.format(n)))
e.setAttribute("title",o),e.classList.add("past"),e.innerText=s.format(n)}})),define("discourse/plugins/discourse-calendar/lib/event-relative-date",["exports","I18n","discourse/plugins/discourse-calendar/lib/guess-best-date-format"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){e.classList.remove("past","current","future"),e.innerHTML=""
const i=moment.utc(e.dataset.starts_at).tz(moment.tz.guess()),n=moment.utc(e.dataset.ends_at).tz(moment.tz.guess()),o=(0,s.default)(i)
let a=i.format(o)
n&&(a+=" â ".concat(n.format(o)))
if(e.setAttribute("title",a),i.isAfter(moment())&&n.isAfter(moment()))return e.classList.add("future"),void function(e,t){e.innerText=t.from(moment())}(e,i)
if(i.isBefore(moment())&&n.isAfter(moment()))return e.classList.add("current"),void function(e,s){const i=document.createElement("div")
i.classList.add("indicator"),e.appendChild(i)
const n=document.createElement("span")
n.classList.add("text"),n.innerText=t.default.t("discourse_post_event.topic_title.ends_in_duration",{duration:s.from(moment())}),e.appendChild(n)}(e,n)
if(i.isBefore(moment())&&n.isBefore(moment()))return e.classList.add("past"),void function(e,t){e.innerText=t.from(moment())}(e,n)}})),define("discourse/plugins/discourse-calendar/lib/guess-best-date-format",["exports"],(function(e){"use strict"
function t(e,t){return e.hours()>0||e.minutes()>0||t&&(moment(t).hours()>0||moment(t).minutes()>0)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,s){let i
i=t(e,s)?"LLL":"LL"
return i},e.isNotFullDayEvent=t})),define("discourse/plugins/discourse-calendar/lib/raw-event-helper",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.buildParams=function(e,t,s,i){const n={},o=s.timezone||"UTC"
n.start=moment(e).tz(o).format("YYYY-MM-DD HH:mm"),s.status&&(n.status=s.status)
s.name&&(n.name=s.name)
s.url&&(n.url=s.url)
s.timezone&&(n.timezone=s.timezone)
s.recurrence&&(n.recurrence=s.recurrence)
t&&(n.end=moment(t).tz(o).format("YYYY-MM-DD HH:mm"))
"private"===s.status&&(n.allowedGroups=(s.raw_invitees||[]).join(","))
"public"===s.status&&(n.allowedGroups="trust_level_0")
s.reminders&&s.reminders.length&&(n.reminders=s.reminders.map((e=>{const t=Object.assign({},e)
return"after"===t.period&&(t.value="-".concat(Math.abs(parseInt(t.value,10)))),"before"===t.period&&(t.value=Math.abs(parseInt("".concat(t.value),10))),"".concat(t.type,".").concat(t.value,".").concat(t.unit)})).join(","))
return i.discourse_post_event_allowed_custom_fields.split("|").filter(Boolean).forEach((e=>{const t=e.toLowerCase().replace(/-/g,"_").replace(/_(.)/g,(function(e,t){return t.toUpperCase()}))
void 0!==s.custom_fields[e]&&(n[t]=s.custom_fields[e])})),n},e.replaceRaw=function(e,t){const s=new RegExp("\\[event\\s(.*?)\\]","m"),i=t.match(s)
if(i&&i[1]){const i=[]
return Object.keys(e).forEach((t=>{const s=e[t]
s&&s.length&&i.push("".concat(t,'="').concat(e[t],'"'))})),t.replace(s,"[event ".concat(i.join(" "),"]"))}return!1}})),define("discourse/plugins/discourse-calendar/lib/regions",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.TIME_ZONE_TO_REGION=e.HOLIDAY_REGIONS=void 0
e.HOLIDAY_REGIONS=["ar","at","au","au_nsw","au_vic","au_qld","au_nt","au_act","au_sa","au_wa","au_tas","au_tas_south","au_qld_cairns","au_qld_brisbane","au_tas_north","au_vic_melbourne","be_fr","be_nl","br","br_spcapital","br_sp","bg_en","bg_bg","ca","ca_qc","ca_ab","ca_sk","ca_on","ca_bc","ca_nb","ca_mb","ca_ns","ca_pe","ca_nl","ca_nt","ca_nu","ca_yt","us","ch_zh","ch_be","ch_lu","ch_ur","ch_sz","ch_ow","ch_nw","ch_gl","ch_zg","ch_fr","ch_so","ch_bs","ch_bl","ch_sh","ch_ar","ch_ai","ch_sg","ch_gr","ch_ag","ch_tg","ch_ti","ch_vd","ch_ne","ch_ge","ch_ju","ch_vs","ch","cl","co","cr","cz","dk","de","de_bw","de_by","de_he","de_nw","de_rp","de_sl","de_sn_sorbian","de_th_cath","de_sn","de_st","de_be","de_by_cath","de_by_augsburg","de_bb","de_mv","de_th","de_hb","de_hh","de_ni","de_sh","ee","el","es_pv","es_na","es_an","es_ib","es_cm","es_mu","es_m","es_ar","es_cl","es_cn","es_lo","es_ga","es_ce","es_o","es_ex","es","es_ct","es_v","es_vc","fi","fr_a","fr_m","fr","gb","gb_eng","gb_wls","gb_eaw","gb_nir","je","gb_jsy","gg","gb_gsy","gb_sct","gb_con","im","gb_iom","ge","gh","hr","hk","hu","id","ie","in","is","it","it_ve","it_tv","it_vr","it_pd","it_fi","it_ge","it_to","it_rm","it_vi","it_bl","it_ro","kr","kz","li","lt","lv","ma","mt_mt","mt_en","mx","mx_pue","nl","lu","no","nz","nz_sl","nz_we","nz_ak","nz_nl","nz_ne","nz_ot","nz_ta","nz_sc","nz_hb","nz_mb","nz_ca","nz_ch","nz_wl","pe","ph","pl","pt","pt_li","pt_po","ro","rs_cyrl","rs_la","ru","se","sa","tn","tr","ua","us_fl","us_la","us_ct","us_de","us_gu","us_hi","us_in","us_ky","us_nj","us_nc","us_nd","us_pr","us_tn","us_ms","us_id","us_ar","us_tx","us_dc","us_md","us_va","us_vt","us_ak","us_ca","us_me","us_ma","us_al","us_ga","us_ne","us_mo","us_sc","us_wv","us_vi","us_ut","us_ri","us_az","us_co","us_oh","us_or","us_sd","us_wy","us_nv","us_mt","us_ny","us_pa","us_nm","us_ia","us_il","us_ks","us_mi","us_mn","us_nh","us_ok","us_wa","us_wi","za","ve","sk","si","jp","vi","sg","my","th","ng"]
e.TIME_ZONE_TO_REGION={"Africa/Accra":"gh","Africa/Casablanca":"ma","Africa/Ceuta":"es","Africa/Johannesburg":"za","Africa/Lagos":"ng","Africa/Tunis":"tn","America/Adak":"us","America/Anchorage":"us","America/Araguaina":"br","America/Argentina/Buenos_Aires":"ar","America/Argentina/Catamarca":"ar","America/Argentina/Cordoba":"ar","America/Argentina/Jujuy":"ar","America/Argentina/La_Rioja":"ar","America/Argentina/Mendoza":"ar","America/Argentina/Rio_Gallegos":"ar","America/Argentina/Salta":"ar","America/Argentina/San_Juan":"ar","America/Argentina/San_Luis":"ar","America/Argentina/Tucuman":"ar","America/Argentina/Ushuaia":"ar","America/Atikokan":"ca","America/Bahia":"br","America/Bahia_Banderas":"mx","America/Belem":"br","America/Blanc-Sablon":"ca","America/Boa_Vista":"br","America/Bogota":"co","America/Boise":"us","America/Cambridge_Bay":"ca","America/Campo_Grande":"br","America/Cancun":"mx","America/Caracas":"ve","America/Chicago":"us","America/Chihuahua":"mx","America/Costa_Rica":"cr","America/Creston":"ca","America/Cuiaba":"br","America/Dawson":"ca","America/Dawson_Creek":"ca","America/Denver":"us","America/Detroit":"us","America/Edmonton":"ca","America/Eirunepe":"br","America/Fort_Nelson":"ca","America/Fortaleza":"br","America/Glace_Bay":"ca","America/Goose_Bay":"ca","America/Halifax":"ca","America/Hermosillo":"mx","America/Indiana/Indianapolis":"us","America/Indiana/Knox":"us","America/Indiana/Marengo":"us","America/Indiana/Petersburg":"us","America/Indiana/Tell_City":"us","America/Indiana/Vevay":"us","America/Indiana/Vincennes":"us","America/Indiana/Winamac":"us","America/Inuvik":"ca","America/Iqaluit":"ca","America/Juneau":"us","America/Kentucky/Louisville":"us","America/Kentucky/Monticello":"us","America/Lima":"pe","America/Los_Angeles":"us","America/Maceio":"br","America/Manaus":"br","America/Matamoros":"mx","America/Mazatlan":"mx","America/Menominee":"us","America/Merida":"mx","America/Metlakatla":"us","America/Mexico_City":"mx","America/Moncton":"ca","America/Monterrey":"mx","America/New_York":"us","America/Nipigon":"ca","America/Nome":"us","America/Noronha":"br","America/North_Dakota/Beulah":"us","America/North_Dakota/Center":"us","America/North_Dakota/New_Salem":"us","America/Ojinaga":"mx","America/Pangnirtung":"ca","America/Phoenix":"us","America/Porto_Velho":"br","America/Punta_Arenas":"cl","America/Rainy_River":"ca","America/Rankin_Inlet":"ca","America/Recife":"br","America/Regina":"ca","America/Resolute":"ca","America/Rio_Branco":"br","America/Santarem":"br","America/Santiago":"cl","America/Sao_Paulo":"br","America/Sitka":"us","America/St_Johns":"ca","America/St_Thomas":"vi","America/Swift_Current":"ca","America/Thunder_Bay":"ca","America/Tijuana":"mx","America/Toronto":"ca","America/Vancouver":"ca","America/Whitehorse":"ca","America/Winnipeg":"ca","America/Yakutat":"us","America/Yellowknife":"ca","Antarctica/Macquarie":"au","Asia/Almaty":"kz","Asia/Anadyr":"ru","Asia/Aqtau":"kz","Asia/Aqtobe":"kz","Asia/Atyrau":"kz","Asia/Bangkok":"th","Asia/Barnaul":"ru","Asia/Chita":"ru","Asia/Hong_Kong":"hk","Asia/Irkutsk":"ru","Asia/Jakarta":"id","Asia/Jayapura":"id","Asia/Kamchatka":"ru","Asia/Khandyga":"ru","Asia/Kolkata":"in","Asia/Krasnoyarsk":"ru","Asia/Kuala_Lumpur":"my","Asia/Kuching":"my","Asia/Magadan":"ru","Asia/Makassar":"id","Asia/Manila":"ph","Asia/Novokuznetsk":"ru","Asia/Novosibirsk":"ru","Asia/Omsk":"ru","Asia/Oral":"kz","Asia/Pontianak":"id","Asia/Qostanay":"kz","Asia/Qyzylorda":"kz","Asia/Riyadh":"sa","Asia/Sakhalin":"ru","Asia/Seoul":"kr","Asia/Singapore":"sg","Asia/Srednekolymsk":"ru","Asia/Tbilisi":"ge","Asia/Tokyo":"jp","Asia/Tomsk":"ru","Asia/Ust-Nera":"ru","Asia/Vladivostok":"ru","Asia/Yakutsk":"ru","Asia/Yekaterinburg":"ru","Atlantic/Azores":"pt","Atlantic/Canary":"es","Atlantic/Madeira":"pt","Atlantic/Reykjavik":"is","Australia/Adelaide":"au","Australia/Brisbane":"au","Australia/Broken_Hill":"au","Australia/Darwin":"au","Australia/Eucla":"au","Australia/Hobart":"au","Australia/Lindeman":"au","Australia/Lord_Howe":"au","Australia/Melbourne":"au","Australia/Perth":"au","Australia/Sydney":"au","Europe/Amsterdam":"nl","Europe/Astrakhan":"ru","Europe/Athens":"el","Europe/Berlin":"de","Europe/Bratislava":"sk","Europe/Bucharest":"ro","Europe/Budapest":"hu","Europe/Busingen":"de","Europe/Copenhagen":"dk","Europe/Dublin":"ie","Europe/Guernsey":"gg","Europe/Helsinki":"fi","Europe/Isle_of_Man":"im","Europe/Istanbul":"tr","Europe/Jersey":"je","Europe/Kaliningrad":"ru","Europe/Kirov":"ru","Europe/Kyiv":"ua","Europe/Lisbon":"pt","Europe/Ljubljana":"si","Europe/London":"gb","Europe/Luxembourg":"lu","Europe/Madrid":"es","Europe/Moscow":"ru","Europe/Oslo":"no","Europe/Paris":"fr","Europe/Prague":"cz","Europe/Riga":"lv","Europe/Rome":"it","Europe/Samara":"ru","Europe/Saratov":"ru","Europe/Simferopol":"ru","Europe/Stockholm":"se","Europe/Tallinn":"ee","Europe/Ulyanovsk":"ru","Europe/Uzhgorod":"ua","Europe/Vaduz":"li","Europe/Vienna":"at","Europe/Vilnius":"lt","Europe/Volgograd":"ru","Europe/Warsaw":"pl","Europe/Zagreb":"hr","Europe/Zaporozhye":"ua","Europe/Zurich":"ch","Pacific/Auckland":"nz","Pacific/Chatham":"nz","Pacific/Easter":"cl","Pacific/Honolulu":"us"}})),define("discourse/plugins/discourse-calendar/lib/round-time",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return e.round(15,"minutes")},"function"!=typeof moment.fn.round&&(moment.fn.round=function(e,t,s){s=s||"round"
let i,n=this,o={hours:{name:"Hours",maxValue:24},minutes:{name:"Minutes",maxValue:60},seconds:{name:"Seconds",maxValue:60},milliseconds:{name:"Milliseconds",maxValue:1e3}},a={mm:o.milliseconds.name,milliseconds:o.milliseconds.name,Milliseconds:o.milliseconds.name,s:o.seconds.name,seconds:o.seconds.name,Seconds:o.seconds.name,m:o.minutes.name,minutes:o.minutes.name,Minutes:o.minutes.name,H:o.hours.name,h:o.hours.name,hours:o.hours.name,Hours:o.hours.name},r=0,l=!1,d=1
if(t.length>1&&"mm"!==t&&"s"!==t.slice(-1)&&(t+="s"),!o[t=a[t].toLowerCase()])throw new Error('The value to round is not valid. Possibles ["hours", "minutes", "seconds", "milliseconds"]')
let u="get"+o[t].name,c="set"+o[t].name
for(let p in o)p===t?(r=n._d[u](),i=o[p].maxValue,l=!0):l&&(d*=o[p].maxValue,r+=n._d["get"+o[p].name]()/d,n._d["set"+o[p].name](0))
return r=Math[s](r/e)*e,r=Math.min(r,i),n._d[c](r),n}),"function"!=typeof moment.fn.ceil&&(moment.fn.ceil=function(e,t){return this.round(e,t,"ceil")}),"function"!=typeof moment.fn.floor&&(moment.fn.floor=function(e,t){return this.round(e,t,"floor")})})),define("discourse/plugins/discourse-calendar/templates/connectors/after-user-name/holiday-flair",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"d4pkZL5f",block:'[[[10,"img"],[15,"src",[36,0]],[14,0,"emoji"],[15,"alt",[36,1]],[12],[13],[1,"\\n"]],[],false,["holidayEmoji","holidayEmojiName"]]',moduleName:"discourse/plugins/discourse-calendar/templates/connectors/after-user-name/holiday-flair.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-calendar/templates/connectors/before-topic-list-body/category-calendar",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"PlDBrY6a",block:'[[[10,0],[14,0,"before-topic-list-body-outlet category-calendar"],[12],[13],[1,"\\n"]],[],false,[]]',moduleName:"discourse/plugins/discourse-calendar/templates/connectors/before-topic-list-body/category-calendar.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-calendar/templates/connectors/discovery-list-container-top/category-calendar",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"7L52E9c8",block:"[[],[],false,[]]",moduleName:"discourse/plugins/discourse-calendar/templates/connectors/discovery-list-container-top/category-calendar.hbs",isStrictMode:!1})
e.default=s}))
define("discourse/plugins/discourse-calendar/templates/connectors/discovery-list-container-top/category-events",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"6Ge4XDLJ",block:'[[[10,0],[14,1,"category-events-calendar"],[12],[13],[1,"\\n"]],[],false,[]]',moduleName:"discourse/plugins/discourse-calendar/templates/connectors/discovery-list-container-top/category-events.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-calendar/templates/connectors/user-custom-preferences/region",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"Fm8OrG8m",block:'[[[10,0],[14,0,"control-group"],[12],[1,"\\n  "],[10,"label"],[14,0,"control-label"],[12],[1,[28,[35,0],["discourse_calendar.region.title"],null]],[13],[1,"\\n  "],[10,0],[14,0,"controls"],[12],[1,"\\n    "],[1,[28,[35,1],null,[["value","allowNoneRegion","onChange"],[[33,2,["custom_fields","holidays-region"]],true,[28,[37,3],[[30,0],"onChange"],null]]]]],[1,"\\n  "],[13],[1,"\\n  "],[1,[28,[35,4],null,[["icon","label","action"],["globe","discourse_calendar.region.use_current_region",[28,[37,3],[[30,0],"useCurrentRegion"],null]]]]],[1,"\\n"],[13],[1,"\\n"]],[],false,["i18n","region-input","model","action","d-button"]]',moduleName:"discourse/plugins/discourse-calendar/templates/connectors/user-custom-preferences/region.hbs",isStrictMode:!1})
e.default=s}))

//# sourceMappingURL=discourse-calendar-83c404fae44931a7bab450f88d82b8716aa3ca7b3aa356523b393c4125d4018e.map
//!

;
